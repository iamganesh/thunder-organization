{"version":3,"sources":["firebase.js","contexts/AuthContext.tsx","assets/earth.png","pages/404NotFound.tsx","assets/avatar_2x.png","components/BModal.tsx","components/TopNavigation.tsx","constants/Constants.ts","pages/AllTransactions.tsx","pages/Dashboard.tsx","pages/Login.tsx","pages/Profile.tsx","pages/Register.tsx","pages/UserAccounts.tsx","routers/PrivateRoute.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","currentUser","useAuth","useContext","AuthProvider","children","useState","setCurrentUser","loading","setLoading","useEffect","auth","onAuthStateChanged","user","value","Provider","NotFound","className","href","width","height","alt","src","icon","BModal","display","close","logout","Modal","show","onHide","backdrop","keyboard","Header","closeButton","Title","Body","Footer","Button","variant","onClick","TopNav","setShow","avatar","profilePic","setProfilePic","photoURL","history","useHistory","signOut","Navbar","expand","Brand","push","style","fontWeight","Toggle","aria-controls","Collapse","id","Nav","Link","borderRadius","Text","marginLeft","to","displayName","FB_COL_USERS","FB_COL_USERS_LOG","FB_COL_TRANSACTION_LOGS","FB_COL_USER_ACCOUNTS","AllTransactions","getTLog","a","firestore","collection","orderBy","get","TLog","transactionLog","forEach","doc","logData","data","logObj","docID","name","type","amount","createdBy","createdTime","creditType","initializeTable","console","error","transactions","dataSet","$","fn","dataTable","isDataTable","DataTable","destroy","obj","moment","format","order","responsive","columns","title","paddingTop","Table","labels","datasets","label","backgroundColor","borderWidth","Dashboard","accountData","setAccountData","setTransactionLog","setCurrentUserData","currentUserAccount","setCurrentUserAccount","chartData","setChartData","window","scrollTo","loadDetails","pageLength","lengthMenu","uid","userDoc","userData","linkId","currentUserDoc","accountDoc","docData","TotalAmount","RemainingAmount","TotalInterest","WithdrawalAmount","MinimumBalance","limit","cData","Fragment","balance","toString","withdrawal","advancePay","minDeposit","options","maintainAspectRatio","legend","position","float","Login","props","handleInputs","event","input","setState","email","target","password","ex","fieldValidation","focusField","isValid","count","field","document","getElementById","classList","remove","add","focus","swtoast","Swal","mixin","toast","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","fire","signin","preventDefault","btnDisabled","validateAccount","validationResult","text","footer","information","isVerified","isAdmin","isLoggedIn","isRejected","forgotPassword","e","queue","confirmButtonText","showCancelButton","inputValidator","enableLoading","Promise","resolve","sendPasswordResetEmail","then","catch","code","disableLoading","showLoaderOnConfirm","preConfirm","html","buttontext","signInWithEmailAndPassword","state","isMounted","_this","this","textAlign","placeholder","onChange","disabled","role","aria-hidden","bind","pathname","Component","Profile","setUserData","setBtnDisabled","setName","phone","setPhone","mail","setMail","pic","isEditing","setIsEditing","newPassword","setNewPassword","triggerPictureInput","getUserData","phoneNumber","file","files","RegExp","test","toLowerCase","alert","updateProfileImage","removeProfilePicture","isConfirm","confirmButtonColor","cancelButtonColor","result","isConfirmed","updateProfile","update","image","fileName","fileNameArr","split","extension","length","storageRef","storage","ref","metadata","contentType","customMetadata","userId","userName","child","getDownloadURL","img","delete","handleImageUpload","uploadTask","put","on","snapshot","progress","bytesTransferred","totalBytes","log","TaskState","PAUSED","RUNNING","downloadURL","fetchSignInMethodsForEmail","res","indexOf","credential","EmailAuthProvider","reauthenticateWithCredential","ULog","userUID","oldValue","newValue","timestamp","Date","set","updateEmail","updatePassword","color","toUpperCase","click","accept","hidden","minLength","maxLength","parseInt","creationTime","lastSignInTime","marginRight","Registration","level","pass","conpass","mobileNo","registerUser","btndisable","createUserWithEmailAndPassword","userMetadata","emailVerified","redirect","err","aria-labelledby","rel","UserAccounts","getUserAccounts","accounts","docid","uaDocs","userAccounts","uaObj","PrivateRoute","component","rest","render","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.72079203.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/database'; // If using Firebase database\r\nimport 'firebase/storage';  // If using Firebase storage\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nconst config = {\r\n    apiKey: \"AIzaSyBARiQg1uSFbX3q1PrlExXlBVBwveGmHyI\",\r\n    authDomain: \"money-mania-5b576.firebaseapp.com\",\r\n    databaseURL: \"https://money-mania-5b576.firebaseio.com\",\r\n    projectId: \"money-mania-5b576\",\r\n    storageBucket: \"money-mania-5b576.appspot.com\",\r\n    messagingSenderId: \"980857145356\",\r\n    appId: \"1:980857145356:web:d5540c03f43aad25c6c629\",\r\n    measurementId: \"G-1QE4X322RZ\"\r\n};\r\n\r\n// const app = firebase.initializeApp({\r\n//     apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n//     authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n//     databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n//     projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n//     storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n//     messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n//     appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n//   })\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(config);\r\n\r\nexport default firebase;","import React, { useContext, useEffect, useState } from 'react';\r\nimport firebase from '../firebase';\r\n\r\nconst AuthContext = React.createContext({currentUser:null});\r\n\r\nexport const useAuth = () => {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport const AuthProvider = ({children} : any) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = firebase.auth().onAuthStateChanged((user:any) => {\r\n          setCurrentUser(user);\r\n          setLoading(false);\r\n        })\r\n    \r\n        return unsubscribe\r\n      }, [])\r\n    \r\n      const value = {\r\n        currentUser\r\n      }\r\n\r\n      return(\r\n          <AuthContext.Provider value={value}>\r\n              {!loading && children}\r\n          </AuthContext.Provider>\r\n      )\r\n}","export default __webpack_public_path__ + \"static/media/earth.521207c4.png\";","import '../styles/404NotFound.css';\r\n\r\nimport icon from \"../assets/earth.png\";\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"container notfound\">\r\n            <h1>404</h1>\r\n            <p><strong>Page not found</strong></p>\r\n            <p>\r\n            The site configured at this address does not\r\n            contain the requested Page.\r\n            </p>\r\n            <p>\r\n            If this is your site, make sure that the filename case matches the URL.<br />\r\n            For root URLs (like <code>http://example.com/</code>) you must provide an\r\n            <code>index.html</code> file.\r\n            </p>\r\n            <a href=\"/\" className=\"logo logo-img-1x\">\r\n                <img width={32} height={32} alt=\"\" src={icon} />\r\n            </a>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default NotFound;","export default __webpack_public_path__ + \"static/media/avatar_2x.c927c103.png\";","import { useState } from \"react\";\r\nimport {Modal, Button} from \"react-bootstrap\";\r\n\r\nconst BModal = ({display,close,logout}:{display:boolean,close:any,logout:any}) => {\r\n  \r\n    return (\r\n      <>\r\n        <Modal\r\n          show={display}\r\n          onHide={close}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Modal title</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            Are you sure? You want to logout?\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={close}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={logout}>Logout</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\nexport default BModal;","import {Navbar,Nav} from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport firebase from '../firebase';\r\nimport icon from '../assets/earth.png';\r\nimport avatar from '../assets/avatar_2x.png'\r\nimport { useEffect, useState } from \"react\";\r\nimport BModal from \"./BModal\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport '../styles/TopNav.css';\r\n\r\nconst TopNav = () => {\r\n    const [show, setShow] = useState(false);\r\n    const [profilePic, setProfilePic] = useState<any>(avatar);\r\n    const { currentUser }:any = useAuth();\r\n\r\n    useEffect(()=>{\r\n        if(currentUser?.photoURL){\r\n          setProfilePic(currentUser.photoURL);\r\n        }\r\n    },[]);\r\n\r\n    const history = useHistory();\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const handleLogout = () => {\r\n        setShow(false);\r\n        firebase.auth().signOut();\r\n    }\r\n    return(\r\n      <>\r\n        <BModal display={show} close={handleClose} logout={handleLogout}/>\r\n        <Navbar expand=\"lg\" className=\"bg-white mb-4 fixed-top shadow\">\r\n            <Navbar.Brand onClick={() => history.push(\"/\")}>\r\n                <img\r\n                    src={icon}\r\n                    width=\"40\"\r\n                    height=\"30\"\r\n                    className=\"d-inline-block align-top brand-logo-cus\"\r\n                    alt=\"logo\"\r\n                />\r\n                <span style={{fontWeight:'bold'}} className=\"text-primary\">Thunder Organization</span>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"mr-auto\">\r\n                    <Nav.Link onClick={() => history.push(\"/\")}>Dashboard</Nav.Link>\r\n                    <Nav.Link onClick={() => history.push(\"/accounts\")}>User Accounts</Nav.Link>\r\n                    <Nav.Link onClick={() => history.push(\"/transactions\")}>All Transactions</Nav.Link>\r\n                    <Nav.Link onClick={() => history.push(\"/profile\")}>My Profile</Nav.Link>\r\n                    <Nav.Link onClick={() => handleShow()}>Logout</Nav.Link>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n                <img\r\n                    src={profilePic}\r\n                    width=\"40\"\r\n                    height=\"30\"\r\n                    style={{borderRadius:'100%'}}\r\n                    className=\"d-inline-block align-top\"\r\n                    alt=\"logo\"\r\n                />\r\n                <Navbar.Text style={{marginLeft:'5px'}}>\r\n                <Link to=\"/profile\">{currentUser?.displayName}</Link>\r\n                </Navbar.Text>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default TopNav;","\r\nexport const FB_COL_ACCOUNTS = \"accounts\";\r\nexport const FB_COL_USERS = \"users\";\r\nexport const FB_COL_USERS_LOG = \"users_log\";\r\nexport const FB_DOC_ACCOUNT = \"MM2020\";\r\nexport const FB_COL_TRANSACTION_LOGS = \"transaction_log\";\r\nexport const FB_COL_USER_ACCOUNTS = \"user_accounts\";\r\nexport const FB_COL_USER_ACCOUNTS_LOG = \"user_accounts_log\";\r\nexport const FB_COL_USER_ACCOUNTS_ARCHIVE = \"user_accounts_archive\";\r\nexport const FB_COL_QUERIES = \"user_queries\";","import React, { useEffect } from 'react';\r\nimport TopNav from '../components/TopNavigation';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport 'datatables.net';\r\nimport 'datatables.net-dt/css/jquery.dataTables.css';\r\nimport firebase from '../firebase';\r\nimport { Table } from 'react-bootstrap';\r\nimport { ITLog } from '../models/Index';\r\nimport { FB_COL_TRANSACTION_LOGS } from '../constants/Constants';\r\n\r\nconst AllTransactions = () => {\r\n\r\n    useEffect(()=>{\r\n      getTLog();\r\n    },[]);\r\n\r\n    const getTLog = async () =>{\r\n      try{\r\n          const TLog = await firebase.firestore().collection(FB_COL_TRANSACTION_LOGS).orderBy('timestamp',\"desc\").get();\r\n          let transactionLog:any[] = [];\r\n          TLog.forEach((doc)=>{\r\n              let logData = doc.data();\r\n              let logId = doc.id;\r\n              let logObj:ITLog = {\r\n                  docID : logId,\r\n                  name : logData.name,\r\n                  type : logData.type,\r\n                  amount : logData.amount,\r\n                  createdBy : logData.createdBy,\r\n                  createdTime : logData.createdTime,\r\n                  creditType : logData.creditType\r\n              }\r\n              transactionLog.push(logObj);\r\n          });\r\n          initializeTable(\"#transactionTable\",transactionLog)\r\n      }catch(ex){\r\n          console.error(ex);\r\n      }\r\n    }\r\n\r\n    const initializeTable = (id:string,transactions:any[]) => {\r\n      let dataSet:any = [];\r\n      if ( $.fn.dataTable.isDataTable( id ) ) {\r\n        let table = $( id ).DataTable();\r\n        table.destroy();\r\n      }\r\n      transactions.forEach((obj:ITLog)=>{\r\n        dataSet.push([\r\n          obj.createdTime ? moment(obj.createdTime).format(\"DD-MMM-YYYY hh:mm:ss\") : \"\",\r\n          obj.name,\r\n          obj.creditType ? obj.creditType == \"saving\" ? \"deposit\" : obj.creditType : \"withdrawal\",\r\n          obj.type,\r\n          obj.amount\r\n        ]);\r\n      });\r\n      $(id).DataTable({\r\n        order : [], \r\n        // rowReorder: {\r\n        //   selector: 'td:nth-child(2)'\r\n        // },\r\n        responsive: true,\r\n        data: dataSet,\r\n        columns: [\r\n          { title: \"Date\" },\r\n          { title: \"Name\" },\r\n          { title: \"Transaction Type\" },\r\n          { title: \"Type\" },\r\n          { title: \"Amount.\" }\r\n      ]\r\n      });\r\n    }\r\n\r\n    return(\r\n       <div id=\"wrapper\">\r\n        <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n            <TopNav></TopNav>\r\n            {/* Begin Page Content */}\r\n            <div className=\"container-fluid\" style={{paddingTop: '4.5rem'}}>\r\n              {/* Page Heading */}\r\n              <div className=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n                <h1 className=\"h3 mb-0 text-gray-800\">All Transactions</h1>\r\n                {/* <a href=\"#\" className=\"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\"><i className=\"fas fa-download fa-sm text-white-50\" /> Generate Report</a> */}\r\n              </div>\r\n              <div className=\"row\">\r\n                {/* Transaction */}\r\n                <div className=\"col-xl-12 col-lg-12\">\r\n                  <div className=\"card shadow mb-4\">\r\n                    {/* Card Header - Dropdown */}\r\n                    <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                      <h6 className=\"m-0 font-weight-bold text-primary\">Transactions</h6>\r\n                    </div>\r\n                    {/* Card Body */}\r\n                    <div className=\"card-body\">\r\n                      <Table responsive id=\"transactionTable\">\r\n                        \r\n                        </Table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* /.container-fluid */}\r\n        </div>\r\n        {/* End of Content Wrapper */}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default AllTransactions;","import React, { useEffect, useState } from 'react';\r\nimport { \r\n    FB_COL_ACCOUNTS,\r\n    FB_COL_TRANSACTION_LOGS,\r\n    FB_COL_USERS,\r\n    FB_COL_USER_ACCOUNTS,\r\n    FB_DOC_ACCOUNT\r\n} from '../constants/Constants';\r\nimport firebase from '../firebase';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport TopNav from '../components/TopNavigation';\r\nimport { Table } from 'react-bootstrap';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport 'datatables.net';\r\nimport 'datatables.net-dt/css/jquery.dataTables.css';\r\n\r\nimport \"../styles/Dashboard.css\";\r\nimport \"../styles/font-awesome.css\";\r\nimport \"../styles/nunito-font.css\";\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { IAccount, ITLog } from '../models/Index';\r\n\r\nconst data = {\r\n  labels: ['Remaining', 'Withdrawal', 'Interest'],\r\n  datasets: [\r\n    {\r\n      label: '',\r\n      data: [0, 0, 0],\r\n      backgroundColor: [\r\n        '#D4AC0D',\r\n        '#E74C3C',\r\n        '#27AE60',\r\n      ],\r\n      borderWidth: 1,\r\n    }\r\n  ]\r\n}\r\n\r\n//import \"../styles/nucleo-icons.css\";\r\nconst Dashboard = () => {\r\n\r\n    const [accountData, setAccountData] = useState<any>();\r\n    const [transactionLog, setTransactionLog] = useState<any>();\r\n    const [currentUserData, setCurrentUserData] = useState<any>();\r\n    const [currentUserAccount, setCurrentUserAccount] = useState<any>();\r\n    const [chartData, setChartData] = useState(data);\r\n\r\n    const { currentUser }:any = useAuth();\r\n\r\n    useEffect(()=>{\r\n      window.scrollTo(0, 0);\r\n        loadDetails();\r\n    },[]);\r\n\r\n    const initializeTable = (id:string,transactions:any[]) => {\r\n      let dataSet:any = [];\r\n      if ( $.fn.dataTable.isDataTable( id ) ) {\r\n        let table = $( id ).DataTable();\r\n        table.destroy();\r\n      }\r\n      transactions.forEach((obj:ITLog)=>{\r\n        dataSet.push([\r\n          obj.createdTime ? moment(obj.createdTime).format(\"DD-MMM-YYYY hh:mm:ss\") : \"\",\r\n          obj.name,\r\n          obj.creditType ? obj.creditType == \"saving\" ? \"deposit\" : obj.creditType : \"withdrawal\",\r\n          obj.type,\r\n          obj.amount\r\n        ]);\r\n      });\r\n      $(id).DataTable({\r\n        pageLength : 5,\r\n        lengthMenu : [5,10],\r\n        order : [], \r\n        // rowReorder: {\r\n        //   selector: 'td:nth-child(2)'\r\n        // },\r\n        responsive: true,\r\n        data: dataSet,\r\n        columns: [\r\n          { title: \"Date\" },\r\n          { title: \"Name\" },\r\n          { title: \"Transaction Type\" },\r\n          { title: \"Type\" },\r\n          { title: \"Amount.\" }\r\n      ]\r\n      });\r\n    }\r\n\r\n    const loadDetails = async () =>{\r\n        try{\r\n            const userDoc = await firebase.firestore().collection(FB_COL_USERS).doc(currentUser?.uid).get();\r\n            const userData:any = userDoc.data();\r\n            const currentUserDoc = await firebase.firestore().collection(FB_COL_USER_ACCOUNTS).doc(userData.linkId).get();\r\n            const currentUserAccount = currentUserDoc.data();\r\n            const accountDoc = await firebase.firestore().collection(FB_COL_ACCOUNTS).doc(FB_DOC_ACCOUNT).get();//(\"IsActive\",\"==\",true).get().then(function(querySnapshot) {\r\n            let docData:any = accountDoc.data();\r\n            let accountData:IAccount = {\r\n                TotalAmount : docData.TotalAmount,\r\n                RemainingAmount : docData.RemainingAmount,\r\n                TotalInterest : docData.TotalInterest,\r\n                WithdrawalAmount : docData.WithdrawalAmount,\r\n                MinimumBalance : docData.MinimumBalance\r\n            };\r\n            const TLog = await firebase.firestore().collection(FB_COL_TRANSACTION_LOGS).orderBy('timestamp',\"desc\").limit(10).get();\r\n            let transactionLog:any[] = [];\r\n            TLog.forEach((doc)=>{\r\n                let logData = doc.data();\r\n                let logId = doc.id;\r\n                let logObj:ITLog = {\r\n                    docID : logId,\r\n                    name : logData.name,\r\n                    type : logData.type,\r\n                    amount : logData.amount,\r\n                    createdBy : logData.createdBy,\r\n                    createdTime : logData.createdTime,\r\n                    creditType : logData.creditType\r\n                }\r\n                transactionLog.push(logObj);\r\n            });\r\n            let cData = chartData;\r\n            cData.datasets = [\r\n              {\r\n                label: '',\r\n                data: [accountData.RemainingAmount, accountData.WithdrawalAmount as any, accountData.TotalInterest],\r\n                backgroundColor: [\r\n                  '#D4AC0D',\r\n                  '#E74C3C',\r\n                  '#27AE60',\r\n                ],\r\n                borderWidth: 0\r\n              }\r\n            ]\r\n            setChartData(cData);\r\n            setAccountData(accountData);\r\n            setTransactionLog(transactionLog);\r\n            setCurrentUserData(userData);\r\n            setCurrentUserAccount(currentUserAccount);\r\n            initializeTable(\"#top10table\",transactionLog);\r\n        }catch(ex){\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n       <div id=\"wrapper\">\r\n        <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n            <TopNav></TopNav>\r\n            {/* Begin Page Content */}\r\n            <div className=\"container-fluid\" style={{paddingTop: '4.5rem'}}>\r\n              {/* Page Heading */}\r\n              <div className=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n                <h1 className=\"h3 mb-0 text-gray-800\">Dashboard</h1>\r\n                {/* <a href=\"#\" className=\"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\"><i className=\"fas fa-download fa-sm text-white-50\" /> Generate Report</a> */}\r\n              </div>\r\n              {/* Content Row */}\r\n              <div className=\"row\">\r\n                {/* Balance Card */}\r\n                <div className=\"col-xl-3 col-md-6 mb-4\">\r\n                  <div className=\"card border-left-primary shadow h-100 py-2\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col mr-2\">\r\n                          <div className=\"text-xs font-weight-bold text-primary text-uppercase mb-1\">Balance</div>\r\n                          <div className=\"h5 mb-0 font-weight-bold text-gray-800\"> {currentUserAccount?.balance.toString() ? currentUserAccount?.balance : \"updating...\"}</div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <i className=\"fas fa-calendar fa-2x text-gray-300\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Withdrawal Card */}\r\n                <div className=\"col-xl-3 col-md-6 mb-4\">\r\n                  <div className=\"card border-left-success shadow h-100 py-2\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col mr-2\">\r\n                          <div className=\"text-xs font-weight-bold text-success text-uppercase mb-1\">Withdrawal</div>\r\n                          <div className=\"h5 mb-0 font-weight-bold text-gray-800\"> {currentUserAccount?.withdrawal.toString() ? currentUserAccount?.withdrawal : \"updating...\"}</div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <i className=\"fas fa-dollar-sign fa-2x text-gray-300\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Minimum Deposit Card Example */}\r\n                <div className=\"col-xl-3 col-md-6 mb-4\">\r\n                  <div className=\"card border-left-info shadow h-100 py-2\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col mr-2\">\r\n                          <div className=\"text-xs font-weight-bold text-info text-uppercase mb-1\">Advance Payment</div>\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto\">\r\n                              <div className=\"h5 mb-0 mr-3 font-weight-bold text-gray-800\"> {currentUserAccount?.advancePay.toString() ? currentUserAccount?.advancePay : \"updating...\"}</div>\r\n                            </div>\r\n                            {/* <div className=\"col\">\r\n                              <div className=\"progress progress-sm mr-2\">\r\n                                <div className=\"progress-bar bg-info\" role=\"progressbar\" style={{width: '50%'}} aria-valuenow={50} aria-valuemin={0} aria-valuemax={100} />\r\n                              </div>\r\n                            </div> */}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <i className=\"fas fa-clipboard-list fa-2x text-gray-300\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Advance Pay Card */}\r\n                <div className=\"col-xl-3 col-md-6 mb-4\">\r\n                  <div className=\"card border-left-warning shadow h-100 py-2\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col mr-2\">\r\n                          <div className=\"text-xs font-weight-bold text-warning text-uppercase mb-1\">Minimum Deposit</div>\r\n                          <div className=\"h5 mb-0 font-weight-bold text-gray-800\"> {currentUserAccount?.minDeposit.toString() ? currentUserAccount?.minDeposit : \"updating...\"}</div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <i className=\"fas fa-comments fa-2x text-gray-300\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* Content Row */}\r\n              <div className=\"row\">\r\n                {/* Overview */}\r\n                <div className=\"col-xl-8 col-lg-7\">\r\n                  <div className=\"card shadow mb-4\">\r\n                    {/* Card Header - Dropdown */}\r\n                    <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                      <h6 className=\"m-0 font-weight-bold text-primary\">Overview</h6>\r\n                    </div>\r\n                    {/* Card Body */}\r\n                    <div className=\"card-body\">\r\n                     <Pie data={chartData} width={500} height={250} options={{ maintainAspectRatio: false,legend:{position:'right'} }}/>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Pie Chart */}\r\n                <div className=\"col-xl-4 col-lg-5\">\r\n                  <div className=\"card shadow mb-4\">\r\n                    {/* Card Header - Dropdown */}\r\n                    <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                      <h6 className=\"m-0 font-weight-bold text-primary\">Account Summary</h6>\r\n                    </div>\r\n                    {/* Card Body */}\r\n                    <div className=\"card-body\">\r\n                      <ul className=\"list-group list-group-flush\">\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Total Amount</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{accountData?.TotalAmount}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Withdrawal Amount</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{accountData?.WithdrawalAmount}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Interest Amount</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{accountData?.TotalInterest}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Remaining Amount</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{accountData?.RemainingAmount}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Account Minimum Balance</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{accountData?.MinimumBalance}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* Content Row */}\r\n              <div className=\"row\">\r\n                {/* Your Account Details */}\r\n                <div className=\"col-xl-4 col-lg-5\">\r\n                  <div className=\"card shadow mb-4\">\r\n                    {/* Card Header - Dropdown */}\r\n                    <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                      <h6 className=\"m-0 font-weight-bold text-primary\">Your Account Details</h6>\r\n                    </div>\r\n                    {/* Card Body */}\r\n                    <div className=\"card-body\">\r\n                     <ul className=\"list-group list-group-flush\">\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Balance</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{currentUserAccount?.balance}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Withdrawal</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{currentUserAccount?.withdrawal}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Advance Payment</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{currentUserAccount?.advancePay}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                              <span>Minimum Deposit</span>\r\n                              <span style={{fontWeight:'bold',float:'right'}}>{currentUserAccount?.minDeposit}</span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Top 10 Transactions */}\r\n                <div className=\"col-xl-8 col-lg-7\">\r\n                  <div className=\"card shadow mb-4\">\r\n                    {/* Card Header - Dropdown */}\r\n                    <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                      <h6 className=\"m-0 font-weight-bold text-primary\">Top 10 Transactions</h6>\r\n                    </div>\r\n                    {/* Card Body */}\r\n                    <div className=\"card-body\">\r\n                      <Table responsive id=\"top10table\">\r\n                        \r\n                      </Table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* /.container-fluid */}\r\n        </div>\r\n        {/* End of Content Wrapper */}\r\n      </div>\r\n         </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport \"../styles/Login.css\";\r\nimport Swal from 'sweetalert2';\r\nimport firebase from '../firebase';\r\n\r\nimport avatar from '../assets/avatar_2x.png';\r\nimport icon from '../assets/earth.png';\r\nimport { FB_COL_USERS } from '../constants/Constants';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\ninterface ILoginState {\r\n    email : string\r\n    password : string\r\n    btnDisabled : boolean\r\n    isLoggedIn : boolean\r\n    isMounted : boolean\r\n}\r\n\r\nclass Login extends React.Component<{},ILoginState> {\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.state = {\r\n            email : \"\",\r\n            password : \"\",\r\n            isLoggedIn : false,\r\n            btnDisabled : false,\r\n            isMounted : false\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        let _this = this;\r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            if (user && !_this.state.isMounted) {\r\n              // User is signed in.\r\n              _this.setState({isLoggedIn:true});\r\n            } else {\r\n              // No user is signed in.\r\n            }\r\n        });\r\n        this.setState({isMounted : true});\r\n\r\n    }\r\n\r\n    handleInputs = (event:any,input:string) => {\r\n        try{\r\n            if(input == \"email\"){\r\n                this.setState({email:event.target.value});\r\n            }else if(input == \"pass\"){\r\n                this.setState({password:event.target.value})\r\n            }\r\n        }catch(ex){\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    fieldValidation = () => {\r\n        let isValid = true;\r\n        let fields = [\"inputEmailUserName\",\"inputPassword\"];\r\n        let focusField:any, count = 0;\r\n        fields.forEach((field)=>{\r\n            let input:any = document.getElementById(field);\r\n            input.classList.remove(\"border-danger\");\r\n            if(!input.value){\r\n                input.classList.add(\"border-danger\");\r\n                isValid = false;\r\n                if(count === 0){\r\n                    focusField = input;\r\n                    count++;\r\n                }\r\n            }\r\n        });\r\n        if(!isValid){\r\n            focusField.focus();\r\n            this.swtoast(\"warning\", \"Email/Password should be mandatory\")\r\n        }\r\n        return isValid\r\n    }\r\n\r\n    swtoast = (icon:any, title:string) => {\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            timerProgressBar: true,\r\n            onOpen: (toast) => {\r\n              toast.addEventListener('mouseenter', Swal.stopTimer)\r\n              toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n            }\r\n          })\r\n          \r\n        Toast.fire({\r\n            icon: icon,\r\n            title: title\r\n        });\r\n    }\r\n\r\n    signin = async (event:any) => {\r\n        try{\r\n            event.preventDefault();\r\n            const fieldvalidation = this.fieldValidation();\r\n            if(!fieldvalidation){\r\n                return false;\r\n            }\r\n            this.setState({btnDisabled : true});\r\n            const validationResult:any = await this.validateAccount();\r\n            if(!validationResult.isValid){\r\n                this.setState({btnDisabled : false});\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: validationResult.title,\r\n                    text: validationResult.text,\r\n                    footer: \"<a href='#' title='\"+validationResult.information+\"'>Why do I have this issue?</a>\"\r\n                })\r\n            }else{\r\n                let userDoc = await firebase.firestore().collection(FB_COL_USERS).doc(firebase.auth().currentUser?.uid).get();\r\n                let userData:any = userDoc.data();\r\n                this.setState({btnDisabled : false});\r\n                if(userData.isVerified){\r\n                    //navigation.replace('DrawerNavigatorRoutes');\r\n                    if(userData.isAdmin){\r\n                        firebase.auth().signOut();\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Access Denied',\r\n                            text: \"Currently admin can't access this site.\",\r\n                            footer: '<a href>Why do I have this issue?</a>'\r\n                          })\r\n                    }else{\r\n                        this.setState({isLoggedIn:true});\r\n                        this.swtoast(\"success\", \"Welcome, \"+firebase.auth().currentUser?.displayName);\r\n                    }\r\n                }else if(userData.isRejected){\r\n                    firebase.auth().signOut();\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'Your id is disabled. Please contact your admin.',\r\n                        footer: '<a href>Why do I have this issue?</a>'\r\n                      })\r\n                }else{\r\n                    firebase.auth().signOut();\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: 'Please contact your admin to get approval of your account.',\r\n                        footer: '<a href>Why do I have this issue?</a>'\r\n                      })\r\n                }\r\n            }\r\n        }catch(ex){\r\n            this.setState({btnDisabled : false});\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    forgotPassword = (e:any) => {\r\n        e.preventDefault();\r\n        (Swal as any).queue([{\r\n        title: 'Reset Password',\r\n        confirmButtonText: 'Confirm',\r\n        showCancelButton: true,\r\n        input: 'text',\r\n        inputValidator: async (value:any) => {\r\n            if (!value) {\r\n              return 'You need to write something!'\r\n            }else{\r\n              let isValid = false;\r\n              (Swal as any).enableLoading();\r\n              let text = \"\";\r\n              isValid = await new Promise((resolve) => {\r\n                firebase.auth().sendPasswordResetEmail(value).then(()=>{\r\n                    resolve(true);\r\n                }).catch((error)=>{\r\n                    if(error.code == \"auth/invalid-email\"){\r\n                        text = \"Please enter a valid email\";\r\n                        resolve(false);\r\n                    }else if(error.code == \"auth/user-not-found\"){\r\n                        text = \"Please register your account first\";\r\n                        resolve(false);\r\n                    }else{\r\n                        text = \"Something went wrong, try again\";\r\n                        resolve(false);\r\n                    }\r\n                })\r\n              });\r\n              (Swal as any).disableLoading();\r\n              if(!isValid){\r\n                  return text;\r\n              }\r\n            }\r\n        },\r\n        text: 'Please type your registered mail id',\r\n        showLoaderOnConfirm: true,\r\n        preConfirm: async (data:any) => {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                html: 'Please check your mail to reset your password',\r\n                footer: \"<a href='#' style='color:red'>Don't share your password to anyone</a>\"\r\n              })\r\n          }\r\n        }])\r\n    }\r\n\r\n    validateAccount = () => {\r\n        let obj = {isValid:false,title:\"Oops...\",text:\"This account is not registered\",buttontext:\"Register\",information:\"Your account is not registered. Please click the Register link to sign in\"};\r\n        return new Promise((resolve) => {\r\n            firebase.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(()=>{\r\n                obj = {isValid:true,title:\"Success\",text:\"Login success\",buttontext:\"\",information:\"\"};\r\n                resolve(obj);\r\n            }).catch((error) => {\r\n                if(error.code == \"auth/user-not-found\"){\r\n                    resolve(obj);\r\n                }else if(error.code == \"auth/invalid-email\"){\r\n                    obj = {isValid:false,title:\"Oops...\",text:\"Please enter a valid email\",buttontext:\"Forgot password\",information:\"Your email id is Incorrect. Please check the email\"};\r\n                    resolve(obj);\r\n                }else if(error.code == \"auth/wrong-password\"){\r\n                    obj = {isValid:false,title:\"Oops...\",text:\"The password is incorrect\",buttontext:\"Forgot password\",information:\"Your account password is Incorrect. Please click the Forgot the password link to change password\"};\r\n                    resolve(obj);\r\n                }else if(error.code == \"auth/user-disabled\"){\r\n                    obj = {isValid:false,title:\"Oops...\",text:\"Your account is disabled\",buttontext:\"Forgot password\",information:\"Please contact your admin to open your account\"};\r\n                    resolve(obj);\r\n                }else if(error.code == \"auth/too-many-requests\"){\r\n                    obj = {isValid:false,title:\"Oops...\",text:\"Too many attempts\",buttontext:\"Forgot password\",information:\"Please try again later\"};\r\n                    resolve(obj);\r\n                }else{\r\n                    obj = {isValid:false,title:\"Oops...\",text:\"Something went wrong\",buttontext:\"Forgot password\",information:\"Try again later\"};\r\n                    resolve(obj);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {email, password} = this.state;\r\n        return(\r\n            <div style={{textAlign:\"center\"}}>\r\n             <div className=\"sidenav\">\r\n                <div className=\"login-main-text\">\r\n                    <img src={icon}/>\r\n                    <h2>Thunder Organization</h2>\r\n                    <p>Login or register from here to access.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"main login-main\">\r\n              <div className=\"col-md-6 col-sm-12 login-container\">\r\n                <div className=\"card card-container\">\r\n                    {/*</div><img className=\"profile-img-card\" src=\"//lh3.googleusercontent.com/-6V8xOA6M7BA/AAAAAAAAAAI/AAAAAAAAAAA/rzlHcD0KYwo/photo.jpg?sz=120\" alt=\"\" /> */}\r\n                    <img id=\"profile-img\" className=\"profile-img-card\" alt=\"profile-img\" src={avatar}/>\r\n                    <p id=\"profile-name\" className=\"profile-name-card\"></p>\r\n                    <form className=\"form-signin\">\r\n                        <span id=\"reauth-email\" className=\"reauth-email\"></span>\r\n                        <input type=\"email\" id=\"inputEmailUserName\" className=\"form-control\" placeholder=\"Email address\" onChange={(e)=>{this.handleInputs(e,\"email\")}} value={email}/>\r\n                        <input type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" onChange={(e)=>{this.handleInputs(e,\"pass\")}} value={password}/>\r\n                        <div id=\"remember\" className=\"checkbox\">\r\n                            <label>\r\n                                <input type=\"checkbox\" value=\"remember-me\"/> Remember me\r\n                            </label>\r\n                        </div>\r\n                        {\r\n                            this.state.btnDisabled ? <button className=\"btn btn-lg btn-primary btn-block btn-signin\" type=\"button\" disabled>\r\n                            <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                            Signing...\r\n                            </button> : <button className=\"btn btn-lg btn-primary btn-block btn-signin\" type=\"submit\" onClick={this.signin.bind(this)} disabled={this.state.btnDisabled}>Sign in</button>\r\n                        } \r\n                    </form>\r\n                    {/* <a href=\"#\" className=\"Register-account\" onClick={this.skipSignIn.bind(this)}>\r\n                       Skip Login\r\n                    </a> */}\r\n                    <a href=\"#\" className=\"forgot-password\" onClick={(e)=>{this.forgotPassword(e)}}>\r\n                        Forgot the password? Reset\r\n                    </a>\r\n                    <Link to=\"/registration\" className=\"Register-account\" >\r\n                        New Here? Register\r\n                    </Link>\r\n\r\n                    {/* <Link to=\"/registration\" className=\"Register-account\">New user? Register</Link> */}\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            {(this.state.isLoggedIn) ? <Redirect to={{pathname:\"/\"}} push></Redirect> : null}\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { useEffect, useState } from 'react';\r\nimport TopNav from '../components/TopNavigation';\r\nimport { FB_COL_USERS, FB_COL_USERS_LOG } from '../constants/Constants';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\nimport firebase from '../firebase';\r\n\r\nimport pic from '../assets/avatar_2x.png'\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { IUser, IUserLog } from '../models/Index';\r\n\r\nconst Profile = () => {\r\n\r\n  const [userData, setUserData] = useState<any>();\r\n  const [btnDisabled, setBtnDisabled] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState<number | null>(0);\r\n  const [mail, setMail] = useState(\"\");\r\n  const [profilePic, setProfilePic] = useState<any>(pic);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [providedPassword, setProvidedPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n\r\n  const { currentUser }:any = useAuth();\r\n\r\n  useEffect(()=>{\r\n    window.scrollTo(0, 0);\r\n    if(currentUser?.photoURL){\r\n      setProfilePic(currentUser.photoURL);\r\n    }\r\n    document.getElementById(\"picture-input\")?.addEventListener(\"change\",(value)=>{triggerPictureInput(value)});\r\n    getUserData();\r\n  },[]);\r\n\r\n  const swtoast = (icon:any, title:string) => {\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: 'top-end',\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n        timerProgressBar: true,\r\n        onOpen: (toast) => {\r\n          toast.addEventListener('mouseenter', Swal.stopTimer)\r\n          toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n        }\r\n      })\r\n      \r\n    Toast.fire({\r\n        icon: icon,\r\n        title: title\r\n    });\r\n  }\r\n\r\n  const getUserData = async () => {\r\n    try{\r\n        const userDoc = await firebase.firestore().collection(FB_COL_USERS).doc(currentUser?.uid).get();\r\n        let userData:any = userDoc.data();\r\n        setName(userData.displayName);\r\n        setPhone(userData.phoneNumber);\r\n        setMail(userData.email);\r\n        setUserData(userData);\r\n    }catch(ex){\r\n        console.error(ex);\r\n    }\r\n  }\r\n\r\n  const triggerPictureInput = (value:any) => {\r\n    try{\r\n      let file = value.target.files[0]; // upload the first file only\r\n      (document.getElementById(\"picture-input\") as any).value = \"\";//$(\"#picture-input\").val(\"\");\r\n      if(!file){\r\n        (document.getElementById(\"picture-input\") as any).value = \"\";\r\n        return false;\r\n      }\r\n      var regex = new RegExp(\"(.*?)\\.(png|jpg|jpeg)$\"); //allowed files\r\n      if(!(regex.test(file.name.toLowerCase()))){\r\n        alert(\"Allowed picture extensions are jpg, png, jpeg\");\r\n        (document.getElementById(\"picture-input\") as any).value = \"\";\r\n        return false;\r\n      }\r\n      updateProfileImage(file);\r\n    }catch(ex){\r\n      console.error(ex);\r\n    }\r\n  }\r\n\r\n  const removeProfilePicture = async () => {\r\n    try{\r\n      let isConfirm = false;\r\n      await Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: \"you want to remove your profile picture?\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Yes, remove it!'\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          isConfirm = true;\r\n        }\r\n      });\r\n      if(!isConfirm)\r\n        return;\r\n      setBtnDisabled(true);\r\n      currentUser?.updateProfile({photoURL:null}).then(()=>{\r\n          firebase.firestore().collection(FB_COL_USERS).doc(currentUser.uid).update({photoURL:\"\"}).then(()=>{\r\n              setProfilePic(pic);\r\n              swtoast(\"success\", \"Your profile picture removed successfully\");\r\n              setBtnDisabled(false);\r\n          }).catch((ex:any)=>{\r\n            swtoast(\"error\", \"Something went wrong, try again\");\r\n            setBtnDisabled(false);\r\n            console.error(ex);\r\n          });\r\n      }).catch((ex:any)=>{\r\n          setBtnDisabled(false);\r\n          swtoast(\"error\", \"Something went wrong, try again\");\r\n          console.error(ex);\r\n      })\r\n    }catch(ex){\r\n      setBtnDisabled(false);\r\n      swtoast(\"error\", \"Something went wrong, try again\");\r\n      console.error(ex);\r\n    }\r\n  }\r\n\r\n  const updateProfileImage = (image:any) => {\r\n    try{\r\n        if(!image){\r\n            alert(\"No file found, try again\");\r\n            return;\r\n        }\r\n        setBtnDisabled(true);\r\n        let fileName = image.name;\r\n        let fileNameArr = fileName.split(\".\");\r\n        let extension = fileNameArr[fileNameArr.length - 1];\r\n\r\n        // Create a root reference\r\n        const storageRef = firebase.storage().ref();\r\n        let metadata:any = {\r\n            contentType : image.type,\r\n            customMetadata:{\r\n                userId : currentUser?.uid,\r\n                userName : currentUser?.displayName\r\n            }\r\n        }\r\n        storageRef.child(\"/images/pp/\"+fileName).getDownloadURL().then((img)=>{\r\n            storageRef.child(\"/images/pp/\"+fileName).delete().then(()=>{\r\n                handleImageUpload(storageRef,fileName,extension,metadata,image);\r\n            }).catch((error:any)=>{\r\n              setBtnDisabled(false);\r\n              swtoast(\"error\", \"Something went wrong, try again\");\r\n              console.error(error);\r\n            })\r\n        }).catch((error:any)=>{\r\n            if(error.code == \"storage/object-not-found\"){\r\n                handleImageUpload(storageRef,fileName,extension,metadata,image);\r\n            }else{\r\n              setBtnDisabled(false);\r\n              swtoast(\"error\", \"Something went wrong, try again\");\r\n              console.error(error);\r\n            }\r\n        });\r\n    }catch(ex){\r\n        setBtnDisabled(false);\r\n        swtoast(\"error\", \"Something went wrong, try again\");\r\n        console.error(ex);\r\n    }\r\n}\r\n\r\n  const handleImageUpload = (storageRef:any,fileName:string,extension:string,metadata:any,data:any) => {\r\n    try{\r\n        const uploadTask = storageRef.child(\"/images/pp/\"+currentUser?.uid+\".\"+extension).put(data, metadata);\r\n        // Register three observers:\r\n        // 1. 'state_changed' observer, called any time the state changes\r\n        // 2. Error observer, called on failure\r\n        // 3. Completion observer, called on successful completion\r\n        uploadTask.on('state_changed', function(snapshot:any){\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                console.log('Upload is paused');\r\n                break;\r\n            case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                console.log('Upload is running');\r\n                break;\r\n            }\r\n        }, function(error:any) {\r\n          setBtnDisabled(false);\r\n          console.error(error);\r\n          swtoast(\"error\", \"Something went wrong, try again\");\r\n            // Handle unsuccessful uploads\r\n        }, function() {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot?.ref.getDownloadURL().then(function(downloadURL:any) {\r\n                console.log('File available at', downloadURL);\r\n                currentUser?.updateProfile({\r\n                    photoURL:downloadURL\r\n                }).then(()=>{\r\n                    firebase.firestore().collection(FB_COL_USERS).doc(currentUser.uid).update({photoURL:downloadURL}).then(()=>{\r\n                        setBtnDisabled(false);\r\n                        setProfilePic(downloadURL);\r\n                        swtoast(\"success\", \"Your profile picture updated successfully\");\r\n                    }).catch((ex:any)=>{\r\n                        setBtnDisabled(false);\r\n                        console.error(ex);\r\n                        swtoast(\"error\", \"Something went wrong, try again\");\r\n                    });\r\n                }).catch((ex:any)=>{\r\n                  setBtnDisabled(false);\r\n                  console.error(ex);\r\n                  swtoast(\"error\", \"Something went wrong, try again\");\r\n                })\r\n            });\r\n        });\r\n    }catch(ex){\r\n      setBtnDisabled(false);\r\n      console.error(ex);\r\n      swtoast(\"error\", \"Something went wrong, try again\");\r\n    }\r\n  }\r\n\r\n  const updateProfile = async () => {\r\n    try{\r\n      if(!name){\r\n          swtoast(\"warning\", \"Please enter your name\");\r\n          return;\r\n      }\r\n      if(!phone){\r\n        swtoast(\"warning\", \"Please enter your phone no\");\r\n        return;\r\n      }\r\n      if(!mail){\r\n        swtoast(\"warning\", \"Please enter your email\");\r\n        return;\r\n      }\r\n      let isValid = true;\r\n      if(mail != userData.email){\r\n        await firebase.auth().fetchSignInMethodsForEmail(mail).then((res)=>{\r\n          if(res.length != 0){\r\n            swtoast(\"warning\", \"Email already exists\");\r\n            isValid = false;\r\n          }\r\n        }).catch((error)=>{\r\n          if(error.code.indexOf(\"auth/invalid-email\") != -1){\r\n            swtoast(\"warning\", \"Please enter valid mail\");\r\n            isValid = false;\r\n          }else if(error.code.indexOf(\"auth/email-already-in-use\") != -1){\r\n            swtoast(\"warning\", \"Email already exists\");\r\n            isValid = false;\r\n          }else{\r\n            swtoast(\"warning\", \"Something went wrong, try again\");\r\n            isValid = false;\r\n          }\r\n        });\r\n      }\r\n      if(newPassword){\r\n        if(newPassword.length < 6){\r\n          swtoast(\"warning\", \"Password should have atleast 6 characters\");\r\n          isValid = false;\r\n        }\r\n      }\r\n      if(!isValid)\r\n        return;\r\n      let isConfirm = false;\r\n      await Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: \"you want to update your profile?\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Update'\r\n      }).then(async (result) => {\r\n        if (result.isConfirmed) {\r\n          if(newPassword || mail != userData.email){\r\n            await (Swal as any).queue([{\r\n              title: 'Confirm Password',\r\n              confirmButtonText: 'Confirm',\r\n              showCancelButton: true,\r\n              input: 'text',\r\n              inputValidator: async (value:any) => {\r\n                  if (!value) {\r\n                    return 'You need to provide current password!'\r\n                  }else{\r\n                    let isValid = false;\r\n                    (Swal as any).enableLoading();\r\n                    let text = \"\";\r\n                    isValid = await new Promise((resolve) => {\r\n                        var credential = firebase.auth.EmailAuthProvider.credential(\r\n                          currentUser?.email as any,\r\n                          value\r\n                        );\r\n                        currentUser?.reauthenticateWithCredential(credential).then(async ()=>{\r\n                          resolve(true);\r\n                        }).catch((ex:any)=>{\r\n                          if(ex.code.indexOf(\"auth/wrong-password\") != -1){\r\n                            text = \"Password is wrong\";\r\n                            resolve(false);\r\n                          }else if(ex.code.indexOf(\"auth/too-many-requests\") != -1){\r\n                            text = \"Too many attempts. try again later\";\r\n                            resolve(false);\r\n                          }else{\r\n                            text = \"Something went wrong, try again\";\r\n                            resolve(false);\r\n                          }\r\n                        });\r\n                    });\r\n                    (Swal as any).disableLoading();\r\n                    if(!isValid){\r\n                        return text;\r\n                    }\r\n                  }\r\n              },\r\n              text: 'Type your current password to change email/password',\r\n              showLoaderOnConfirm: true,\r\n              preConfirm: () => {\r\n                  isConfirm = true;\r\n                }\r\n            }]);\r\n          }else{\r\n            isConfirm = true;\r\n          }\r\n        }\r\n      });\r\n      if(!isConfirm)\r\n        return;\r\n      let metadata = {\r\n        displayName : name,\r\n        phoneNumber : phone\r\n      }\r\n      setBtnDisabled(true);\r\n      if(name != userData.displayName || phone != userData.phoneNumber){\r\n        await new Promise((resolve) => {\r\n          currentUser?.updateProfile({displayName:name}).then(()=>{\r\n            firebase.firestore().collection(FB_COL_USERS).doc(currentUser?.uid).update(metadata).then(async ()=>{\r\n              if(name != userData.displayName){\r\n                let ULog:IUserLog = {\r\n                  userUID : currentUser?.uid,\r\n                  name : userData.displayName,\r\n                  type : \"Update\",\r\n                  field : \"displayName\",\r\n                  oldValue : userData.displayName,\r\n                  newValue : name,\r\n                  timestamp : new Date(),\r\n                  createdTime : new Date().toString(),\r\n                  createdBy : userData.displayName\r\n                }\r\n                await firebase.firestore().collection(FB_COL_USERS_LOG).doc().set(ULog);\r\n              }  \r\n              if(phone != userData.phoneNumber){\r\n                let ULog:IUserLog = {\r\n                  userUID : currentUser?.uid,\r\n                  name : userData.displayName,\r\n                  type : \"Update\",\r\n                  field : \"phoneNumber\",\r\n                  oldValue : userData.phoneNumber,\r\n                  newValue : phone ? phone : \"\",\r\n                  timestamp : new Date(),\r\n                  createdTime : new Date().toString(),\r\n                  createdBy : userData.displayName\r\n                }\r\n                await firebase.firestore().collection(FB_COL_USERS_LOG).doc().set(ULog);\r\n              }\r\n              resolve(true);\r\n            }).catch((ex)=>{\r\n              console.error(ex);\r\n              resolve(false);\r\n              //setBtnDisabled(false);\r\n              //swtoast(\"error\", \"Something went wrong, try again\");\r\n            });\r\n          }).catch((ex:any)=>{\r\n            console.error(ex);\r\n            //setBtnDisabled(false);\r\n            resolve(false);\r\n            //swtoast(\"error\", \"Something went wrong, try again\");\r\n          });\r\n        });\r\n      }\r\n\r\n      //update email\r\n      if(mail != userData.email){\r\n        await new Promise((resolve) => {\r\n          firebase.auth().currentUser?.updateEmail(mail).then(()=>{\r\n            firebase.firestore().collection(FB_COL_USERS).doc(currentUser.uid).update({email:mail}).then(async ()=>{\r\n                let ULog:IUserLog = {\r\n                    userUID : currentUser.uid,\r\n                    name : userData.displayName,\r\n                    type : \"Update\",\r\n                    field : \"email\",\r\n                    oldValue : userData.email,\r\n                    newValue : mail,\r\n                    timestamp : new Date(),\r\n                    createdTime : new Date().toString(),\r\n                    createdBy : userData.displayName\r\n                }\r\n                await firebase.firestore().collection(FB_COL_USERS_LOG).doc().set(ULog);\r\n                resolve(true);\r\n                // Alert.alert(\"Success\",\"Email updated successfully. Please login again\",[{text:'Login',onPress:()=>{\r\n                    \r\n                // }}]);\r\n            });\r\n          }).catch((error)=>{\r\n            console.error(error);\r\n            resolve(false);\r\n          });\r\n        });\r\n      }\r\n\r\n      //update password\r\n      if(newPassword){\r\n        await new Promise((resolve) => {\r\n          firebase.auth().currentUser?.updatePassword(newPassword).then(async ()=>{\r\n            let ULog:IUserLog = {\r\n                userUID : currentUser.uid,\r\n                name : userData.displayName,\r\n                type : \"Update\",\r\n                field : \"Password\",\r\n                oldValue : \"......\",\r\n                newValue : \"......\",\r\n                timestamp : new Date(),\r\n                createdTime : new Date().toString(),\r\n                createdBy : userData.displayName\r\n            }\r\n            await firebase.firestore().collection(FB_COL_USERS_LOG).doc().set(ULog);\r\n            resolve(true);\r\n            // Alert.alert(\"Success\",\"Password updated successfully. Please login again\",[{text:'Login',onPress:()=>{\r\n                \r\n            // }}]);\r\n          }).catch((error)=>{\r\n            console.error(error);\r\n            resolve(false);\r\n          });\r\n        });\r\n      }\r\n      setBtnDisabled(false);\r\n      setIsEditing(false);\r\n      if(newPassword || mail != userData.email){\r\n        Swal.fire({\r\n          title: 'Login Required',\r\n          text: \"Please login again\",\r\n          icon: 'warning',\r\n          showCancelButton: false,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Login'\r\n        }).then(() => {\r\n          firebase.auth().signOut();\r\n        })\r\n      }else{\r\n        swtoast(\"success\", \"Profile updated successfully\");\r\n        getUserData();\r\n      }\r\n    }catch(ex){\r\n      setBtnDisabled(false);\r\n      swtoast(\"error\", \"Something went wrong, try again\");\r\n    }\r\n  }\r\n\r\n  return(\r\n        <div id=\"wrapper\">\r\n         <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n             <TopNav></TopNav>\r\n             {/* Begin Page Content */}\r\n             <div className=\"container-fluid\" style={{paddingTop: '4.5rem'}}>\r\n                <div className=\"main-body\">\r\n                  <div className=\"row gutters-sm\">\r\n                    <div className=\"col-md-4 mb-3\">\r\n                      <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                          <div className=\"d-flex flex-column align-items-center text-center\">\r\n                            <img src={profilePic} alt=\"Admin\" className=\"rounded-circle\" width={150} />\r\n                            <div className=\"mt-3\">\r\n                              <h4 style={{fontWeight:'bold',color:'black'}}>{userData ? userData.displayName.toUpperCase() : \"\"}</h4>\r\n                              <p className=\"text-secondary mb-1\">{userData ? userData.email : \"\"}</p>\r\n                              <p className=\"text-muted font-size-sm\">{userData ? userData.isAdmin ? \"Admin\" : \"User\" : \"\"}</p>\r\n                              <button className=\"btn btn-outline-danger mr-4\" disabled={btnDisabled} onClick={() => removeProfilePicture()}> Delete Picture</button>\r\n                              <button className=\"btn btn-outline-primary\" disabled={btnDisabled} onClick={() => {\r\n                                document.getElementById(\"picture-input\")?.click();\r\n                              }}>Edit Picture</button>\r\n                              <input type=\"file\" accept=\"image/*\" id=\"picture-input\" hidden={true}/>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                      <div className=\"card mb-3\">\r\n                        <div className=\"card-body\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Name</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              <input type=\"text\" value={name ? name.toUpperCase() : \"\"} onChange={(e) => setName(e.target.value)} placeholder=\"name\" hidden={!isEditing} className=\"form-control\"/>\r\n                              <span hidden={isEditing}>{userData ? userData.displayName.toUpperCase() : \"\"}</span>\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Phone</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              <input type=\"text\" value={phone ? phone : \"\"} minLength={8} maxLength={15} onChange={(e) => setPhone(e.target.value ? parseInt(e.target.value) : null)} placeholder=\"phone no\" hidden={!isEditing} className=\"form-control\"/>\r\n                              <span hidden={isEditing}>{userData ? userData.phoneNumber : \"\"}</span>\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Email</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              <input type=\"text\" value={mail ? mail : \"\"} onChange={(e) => setMail(e.target.value)} placeholder=\"email address\" hidden={!isEditing} className=\"form-control\"/>\r\n                              <span hidden={isEditing}>{userData ? userData.email : \"\"}</span>\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Password</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              <input type=\"password\" value={newPassword} placeholder=\"new password\" onChange={(e) => setNewPassword(e.target.value)} hidden={!isEditing} className=\"form-control\"/>\r\n                              <span hidden={isEditing}></span>\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Type</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                             {userData ? userData.isAdmin ? \"Admin\" : \"User\" : \"\"}\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Created Date</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              {userData ? moment(userData.metadata.creationTime).format(\"DD-MMM-YYYY hh:mm:ss\") : \"\"}\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Last Login</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              {userData ? moment(currentUser?.metadata.lastSignInTime).format(\"DD-MMM-YYYY hh:mm:ss\") : \"\"}\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">Account ID</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              {userData ? userData.linkId : \"\"}\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-3\">\r\n                              <h6 className=\"mb-0\">User ID</h6>\r\n                            </div>\r\n                            <div className=\"col-sm-9 text-secondary\">\r\n                              {userData ? userData.uid : \"\"}\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                            <button className=\"btn btn-primary float-right\" hidden={isEditing} onClick={() => setIsEditing(true)} disabled={btnDisabled}>Edit Profile</button>\r\n                            <button className=\"btn btn-primary float-right\" hidden={!isEditing} disabled={btnDisabled} onClick={() => updateProfile()}>Save Profile</button>\r\n                            <button className=\"btn btn-danger float-right\" hidden={!isEditing} onClick={() => setIsEditing(false)} disabled={btnDisabled} style={{marginRight:10}}>Cancel</button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n             {/* /.container-fluid */}\r\n         </div>\r\n         {/* End of Content Wrapper */}\r\n       </div>\r\n     );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport '../styles/Register.css';\r\nimport firebase from '../firebase';\r\nimport Swal from 'sweetalert2';\r\nimport icon from '../assets/earth.png';\r\nimport { IUser } from \"../models/Index\";\r\nimport { FB_COL_USERS } from \"../constants/Constants\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\ninterface IRegisterState{\r\n    name : string\r\n    email : string\r\n    pass : string\r\n    conpass : string\r\n    mobileNo : string\r\n    btndisable : boolean\r\n    redirect : boolean\r\n}\r\n\r\nclass Registration extends React.Component<{},IRegisterState>{\r\n  constructor(props:any){\r\n    super(props);\r\n    this.state = {\r\n        name : \"\",\r\n        email : \"\",\r\n        pass : \"\",\r\n        conpass : \"\",\r\n        mobileNo : \"\",\r\n        btndisable : false,\r\n        redirect : false\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  swtoast = (icon:any, title:string) => {\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: 'top-end',\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n        timerProgressBar: true,\r\n        onOpen: (toast) => {\r\n          toast.addEventListener('mouseenter', Swal.stopTimer)\r\n          toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n        }\r\n      })\r\n      \r\n    Toast.fire({\r\n        icon: icon,\r\n        title: title\r\n    });\r\n  }\r\n\r\n  fieldValidation = async (level:string) => {\r\n    let obj = {\r\n        isValid : true,\r\n        icon : \"warning\",\r\n        text : \"\"\r\n    };\r\n    let fields = [\"_fn\",\"_mail\",\"_phone\",\"_pass\",\"_conpass\"];\r\n    let focusField, count = 0;\r\n    fields.forEach((field)=>{\r\n        let input:any = document.getElementById(level+field);\r\n        input.classList.remove(\"border-danger\");\r\n        if(!input.value){\r\n            input.classList.add(\"border-danger\");\r\n            obj.isValid = false;\r\n            obj.text =\"Please fill all the mandatory fields\";\r\n            if(count === 0){\r\n                focusField = input;\r\n                count++;\r\n            }\r\n        }\r\n    });\r\n    if(obj.isValid){\r\n        let pass:any = document.getElementById(level+\"_pass\");\r\n        let conpass:any = document.getElementById(level+\"_conpass\");\r\n        if(pass.value !== conpass.value){\r\n            pass.classList.add(\"border-danger\");\r\n            conpass.classList.add(\"border-danger\");\r\n            focusField = conpass;\r\n            obj.isValid = false;\r\n            obj.text = \"Password doesn't match\";\r\n        }\r\n    }\r\n    if(!obj.isValid){\r\n        focusField.focus();\r\n        this.swtoast(obj.icon, obj.text);\r\n    }\r\n    return obj.isValid;\r\n  }\r\n\r\n  onChange = (e:any, type:string) => {\r\n    if(type == \"mobile\"){\r\n      const re = /^[0-9\\b]+$/;\r\n      if (e.target.value === '' || re.test(e.target.value)) {\r\n        this.setState({mobileNo: e.target.value})\r\n      }\r\n    }else{\r\n      \r\n    }\r\n  }\r\n\r\n  registerUser = async (event:any, level:string) => {\r\n    let _this = this;\r\n    event.preventDefault();\r\n    const fieldValidation = await this.fieldValidation(level);\r\n    if(!fieldValidation){\r\n        return false;\r\n    }\r\n    this.setState({btndisable:true});\r\n    firebase.auth().createUserWithEmailAndPassword(this.state.email,this.state.pass).then(()=>{\r\n      var currentUser:any = firebase.auth().currentUser;\r\n        if(currentUser) {\r\n          currentUser.updateProfile({\r\n          displayName: _this.state.name\r\n        }).then(async function() {\r\n          let metadata = {\r\n            creationTime : currentUser?.metadata.creationTime,\r\n            lastSignInTime : currentUser?.metadata.lastSignInTime\r\n          }\r\n          let userMetadata : IUser = {\r\n            uid : currentUser.uid,\r\n            displayName : _this.state.name,\r\n            email : currentUser.email,\r\n            emailVerified : false,\r\n            phoneNumber : parseInt(_this.state.mobileNo),\r\n            isAdmin : false,\r\n            isVerified : false,\r\n            isRejected : false,\r\n            metadata : metadata\r\n          }\r\n          await firebase.firestore().collection(FB_COL_USERS).doc(currentUser.uid).set(userMetadata);\r\n          firebase.auth().signOut().then(() => {\r\n            _this.setState({btndisable:false});\r\n            Swal.fire({\r\n              title: 'Success',\r\n              text: \"Now you are a part of our organization\",\r\n              icon: 'success',\r\n              showCancelButton: false,\r\n              confirmButtonColor: '#3085d6',\r\n              cancelButtonColor: '#d33',\r\n              confirmButtonText: 'Login'\r\n            }).then((result) => {\r\n              if (result.value) {\r\n              _this.setState({redirect:true});\r\n              }\r\n            })\r\n          });\r\n        }).catch(function(err:any) {\r\n          // An error happened.\r\n          _this.setState({btndisable:false});\r\n          console.error(err);\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: 'Something went wrong!',\r\n            footer: '<a href>Why do I have this issue?</a>'\r\n          })\r\n          firebase.auth().currentUser?.delete();\r\n        });\r\n      }\r\n    }).catch((error:any)=>{\r\n      this.setState({btndisable:false});\r\n      if(error.code === \"auth/invalid-email\"){\r\n        let mail = document.getElementById(level+\"_mail\");\r\n        mail?.classList.add(\"border-danger\");\r\n        mail?.focus();\r\n        _this.swtoast(\"warning\", \"Please enter valid mail\");\r\n        return;\r\n      }else if(error.code === \"auth/weak-password\"){\r\n        let pass = document.getElementById(level+\"_pass\");\r\n        pass?.classList.add(\"border-danger\");\r\n        pass?.focus();\r\n        _this.swtoast(\"warning\", \"Password should have atleast 6 characters\");\r\n        return;\r\n      }else if(error.code == \"auth/email-already-in-use\"){\r\n        let mail = document.getElementById(level+\"_mail\");\r\n        mail?.classList.add(\"border-danger\");\r\n        mail?.focus();\r\n        _this.swtoast(\"warning\", \"Email already exists\");\r\n        return;\r\n      }else{\r\n        console.error(error);\r\n        _this.swtoast(\"warning\", \"Something went wrong. Please try again\");\r\n        return;\r\n      }\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const state = this.state;\r\n    return(\r\n      <React.Fragment>\r\n        <div className=\"container-fluid register\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3 register-left\">\r\n                        <img src={icon}/>{/* \"https://image.ibb.co/n7oTvU/logo_white.png\" alt=\"\"/> */}\r\n                        <h3>Welcome</h3>\r\n                        <p>You are 30 seconds away from accessing our organization!</p>\r\n                        <Link to=\"/login\">\r\n                        <button type=\"submit\" name=\"\" disabled={state.btndisable}>Login</button><br/>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-md-9 register-right\">\r\n                    <div className=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\r\n                                <h3 className=\"register-heading\">Register to Thunder Organization</h3>\r\n                                <div className=\"row register-form\">\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"text\" className=\"form-control\" id=\"user_fn\" placeholder=\"Your Name\" value={state.name} onChange={(e)=>this.setState({name:e.target.value})}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"email\" className=\"form-control\" id=\"user_mail\" placeholder=\"Your Email\"  value={state.email} onChange={(e)=>this.setState({email:e.target.value})}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"text\" minLength={8} maxLength={15} name=\"txtEmpPhone\" id=\"user_phone\" className=\"form-control\" placeholder=\"Your Mobile No\" value={state.mobileNo} onChange={(e) => this.onChange(e,\"mobile\")}/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"password\" className=\"form-control\" id=\"user_pass\" placeholder=\"Password\"  value={state.pass} onChange={(e)=>this.setState({pass:e.target.value})}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"password\" className=\"form-control\" id=\"user_conpass\" placeholder=\"Confirm Password\"  value={state.conpass} onChange={(e)=>this.setState({conpass:e.target.value})}/>\r\n                                        </div>\r\n                                        <p className=\"terms-and-conditions\">By clicking Sign Up, you agree to our <a href=\"#\" id=\"terms-link\" rel=\"nofollow\">Terms</a>, <a href=\"#\" id=\"privacy-link\" rel=\"nofollow\">Data Policy</a> and <a href=\"#\" id=\"cookie-use-link\"  rel=\"nofollow\">Cookie Policy</a>. You may receive SMS notifications from us and can opt out at any time.</p>\r\n                                        {\r\n                                          state.btndisable ? <button className=\"btnRegister\" type=\"button\" disabled>\r\n                                          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                          Registering...\r\n                                          </button> : <input type=\"submit\" className=\"btnRegister\"  value=\"Register\" onClick={(event)=>this.registerUser(event,\"user\")} disabled={state.btndisable}/>\r\n                                        }                                      \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              {(this.state.redirect) ? <Redirect to={{pathname:\"/login\"}} push></Redirect> : null}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Registration;","import React, { useEffect } from 'react';\r\nimport TopNav from '../components/TopNavigation';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport 'datatables.net';\r\nimport 'datatables.net-dt/css/jquery.dataTables.css';\r\nimport firebase from '../firebase';\r\nimport { Table } from 'react-bootstrap';\r\nimport { FB_COL_USER_ACCOUNTS } from '../constants/Constants';\r\nimport { IUserAccount } from '../models/Index';\r\n\r\nconst UserAccounts = () => {\r\n\r\n  useEffect(()=>{\r\n    getUserAccounts();\r\n  },[]);\r\n\r\n  const initializeTable = (id:string,accounts:any[]) => {\r\n    let dataSet:any = [];\r\n    if ( $.fn.dataTable.isDataTable( id ) ) {\r\n      let table = $( id ).DataTable();\r\n      table.destroy();\r\n    }\r\n    accounts.forEach((obj:IUserAccount)=>{\r\n      dataSet.push([\r\n        obj.name,\r\n        obj.balance ? obj.balance : 0,\r\n        obj.withdrawal ? obj.withdrawal : 0,\r\n        obj.advancePay ? obj.advancePay : 0,\r\n        obj.minDeposit ? obj.minDeposit : 0,\r\n        obj.docid\r\n      ]);\r\n    });\r\n    $(id).DataTable({\r\n      order : [], \r\n      // rowReorder: {\r\n      //   selector: 'td:nth-child(2)'\r\n      // },\r\n      responsive: true,\r\n      data: dataSet,\r\n      columns: [\r\n        { title: \"Name\" },\r\n        { title: \"Balance\" },\r\n        { title: \"Withdrawal\" },\r\n        { title: \"Advance payment\" },\r\n        { title: \"Minimum Deposit\" },\r\n        { title: \"Account Id\" }\r\n    ]\r\n    });\r\n  }\r\n\r\n  const getUserAccounts = async () =>{\r\n      try{\r\n          let uaDocs = await firebase.firestore().collection(FB_COL_USER_ACCOUNTS).orderBy(\"name\",\"asc\").get();\r\n          let userAccounts:any[] = [];\r\n          uaDocs.forEach((doc)=>{\r\n              let data = doc.data();\r\n              let docid = doc.id;\r\n              let uaObj:IUserAccount = {\r\n                  name : data.name,\r\n                  balance : data.balance,\r\n                  withdrawal : data.withdrawal,\r\n                  minDeposit : data.minDeposit,\r\n                  advancePay : data.advancePay,\r\n                  docid : docid\r\n              }\r\n              userAccounts.push(uaObj);\r\n          });\r\n          initializeTable(\"#accountTable\",userAccounts)\r\n      }catch(ex){\r\n          console.error(ex);\r\n      }\r\n  }\r\n  return(\r\n        <div id=\"wrapper\">\r\n         <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n             <TopNav></TopNav>\r\n             {/* Begin Page Content */}\r\n             <div className=\"container-fluid\" style={{paddingTop: '4.5rem'}}>\r\n               {/* Page Heading */}\r\n               <div className=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n                 <h1 className=\"h3 mb-0 text-gray-800\">User Accounts</h1>\r\n                 {/* <a href=\"#\" className=\"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\"><i className=\"fas fa-download fa-sm text-white-50\" /> Generate Report</a> */}\r\n               </div>\r\n               <div className=\"row\">\r\n                 {/* Accounts */}\r\n                 <div className=\"col-xl-12 col-lg-12\">\r\n                   <div className=\"card shadow mb-4\">\r\n                     {/* Card Header - Dropdown */}\r\n                     <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                       <h6 className=\"m-0 font-weight-bold text-primary\">Accounts</h6>\r\n                     </div>\r\n                     {/* Card Body */}\r\n                     <div className=\"card-body\">\r\n                      <Table responsive id=\"accountTable\"/>\r\n                     </div>\r\n                   </div>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n             {/* /.container-fluid */}\r\n         </div>\r\n         {/* End of Content Wrapper */}\r\n       </div>\r\n     );\r\n}\r\n\r\nexport default UserAccounts;","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest } : any) {\r\n    const { currentUser } : any = useAuth()\r\n  \r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props => {\r\n          return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n        }}\r\n      ></Route>\r\n    )\r\n}","//import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport NotFound from './pages/404NotFound';\r\nimport AllTransactions from './pages/AllTransactions';\r\nimport Dashboard from './pages/Dashboard';\r\n//screens\r\nimport Login from './pages/Login';\r\nimport Profile from './pages/Profile';\r\nimport Registration from './pages/Register';\r\nimport UserAccounts from './pages/UserAccounts';\r\n//route\r\nimport PrivateRoute from './routers/PrivateRoute';\r\n//style\r\nimport '../src/App.css';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nfunction App() {\r\n  useEffect(()=>{\r\n    window.scrollTo(0, 0);\r\n  },[]);\r\n  \r\n  return (\r\n    <Router>\r\n      <AuthProvider>\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n          <PrivateRoute exact path=\"/transactions\" component={AllTransactions} />\r\n          <PrivateRoute exact path=\"/accounts\" component={UserAccounts} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/registration\" component={Registration} />\r\n          <Route path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </AuthProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport 'jquery';\r\nimport 'bootstrap';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}