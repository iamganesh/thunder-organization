(this["webpackJsonpthunder-app"]=this["webpackJsonpthunder-app"]||[]).push([[0],{107:function(e,t,a){},113:function(e,t,a){},117:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(3),r=a.n(s),i=a(36),c=a.n(i),o=(a(107),a(29)),l=a(14),d=a(13),u=a(78);a(108),a(224),a(225),a(111);u.a.initializeApp({apiKey:"AIzaSyBARiQg1uSFbX3q1PrlExXlBVBwveGmHyI",authDomain:"money-mania-5b576.firebaseapp.com",databaseURL:"https://money-mania-5b576.firebaseio.com",projectId:"money-mania-5b576",storageBucket:"money-mania-5b576.appspot.com",messagingSenderId:"980857145356",appId:"1:980857145356:web:d5540c03f43aad25c6c629",measurementId:"G-1QE4X322RZ"});var m=u.a,h=r.a.createContext({currentUser:null}),j=function(){return Object(s.useContext)(h)},b=function(e){var t=e.children,a=Object(s.useState)(null),r=Object(d.a)(a,2),i=r[0],c=r[1],o=Object(s.useState)(!0),l=Object(d.a)(o,2),u=l[0],j=l[1];Object(s.useEffect)((function(){return m.auth().onAuthStateChanged((function(e){c(e),j(!1)}))}),[]);var b={currentUser:i};return Object(n.jsx)(h.Provider,{value:b,children:!u&&t})},p=(a(113),a.p+"static/media/earth.521207c4.png"),x=function(){return Object(n.jsxs)("div",{className:"container notfound",children:[Object(n.jsx)("h1",{children:"404"}),Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:"Page not found"})}),Object(n.jsx)("p",{children:"The site configured at this address does not contain the requested Page."}),Object(n.jsxs)("p",{children:["If this is your site, make sure that the filename case matches the URL.",Object(n.jsx)("br",{}),"For root URLs (like ",Object(n.jsx)("code",{children:"http://example.com/"}),") you must provide an",Object(n.jsx)("code",{children:"index.html"})," file."]}),Object(n.jsx)("a",{href:"/",className:"logo logo-img-1x",children:Object(n.jsx)("img",{width:32,height:32,alt:"",src:p})})]})},f=a(7),v=a.n(f),g=a(12),O=a(231),w=a(230),y=a.p+"static/media/avatar_2x.c927c103.png",N=a(229),k=a(227),T=function(e){var t=e.display,a=e.close,s=e.logout;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(N.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(n.jsx)(N.a.Header,{closeButton:!0,children:Object(n.jsx)(N.a.Title,{children:"Modal title"})}),Object(n.jsx)(N.a.Body,{children:"Are you sure? You want to logout?"}),Object(n.jsxs)(N.a.Footer,{children:[Object(n.jsx)(k.a,{variant:"secondary",onClick:a,children:"Close"}),Object(n.jsx)(k.a,{variant:"primary",onClick:s,children:"Logout"})]})]})})},C=(a(117),function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(y),c=Object(d.a)(i,2),u=c[0],h=c[1],b=j().currentUser;Object(s.useEffect)((function(){(null===b||void 0===b?void 0:b.photoURL)&&h(b.photoURL)}),[]);var x=Object(l.g)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{display:a,close:function(){return r(!1)},logout:function(){r(!1),m.auth().signOut()}}),Object(n.jsxs)(O.a,{expand:"lg",className:"bg-white mb-4 fixed-top shadow",children:[Object(n.jsxs)(O.a.Brand,{onClick:function(){return x.push("/")},children:[Object(n.jsx)("img",{src:p,width:"40",height:"30",className:"d-inline-block align-top brand-logo-cus",alt:"logo"}),Object(n.jsx)("span",{style:{fontWeight:"bold"},className:"text-primary",children:"Thunder Organization"})]}),Object(n.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(w.a,{className:"mr-auto",children:[Object(n.jsx)(w.a.Link,{onClick:function(){return x.push("/")},children:"Dashboard"}),Object(n.jsx)(w.a.Link,{onClick:function(){return x.push("/accounts")},children:"User Accounts"}),Object(n.jsx)(w.a.Link,{onClick:function(){return x.push("/transactions")},children:"All Transactions"}),Object(n.jsx)(w.a.Link,{onClick:function(){return x.push("/profile")},children:"My Profile"}),Object(n.jsx)(w.a.Link,{onClick:function(){return r(!0)},children:"Logout"})]})}),Object(n.jsxs)(O.a.Collapse,{className:"justify-content-end",children:[Object(n.jsx)("img",{src:u,width:"40",height:"30",style:{borderRadius:"100%"},className:"d-inline-block align-top",alt:"logo"}),Object(n.jsx)(O.a.Text,{style:{marginLeft:"5px"},children:Object(n.jsx)(o.b,{to:"/profile",children:null===b||void 0===b?void 0:b.displayName})})]})]})]})}),S=a(19),P=a.n(S),D=a(34),B=a.n(D),L=(a(67),a(68),a(228)),E="users",I="users_log",A="transaction_log",U="user_accounts",R=function(){Object(s.useEffect)((function(){e()}),[]);var e=function(){var e=Object(g.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.firestore().collection(A).orderBy("timestamp","desc").get();case 3:a=e.sent,n=[],a.forEach((function(e){var t=e.data(),a={docID:e.id,name:t.name,type:t.type,amount:t.amount,createdBy:t.createdBy,createdTime:t.createdTime,creditType:t.creditType};n.push(a)})),t("#transactionTable",n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),t=function(e,t){var a=[];P.a.fn.dataTable.isDataTable(e)&&P()(e).DataTable().destroy();t.forEach((function(e){a.push([e.createdTime?B()(e.createdTime).format("DD-MMM-YYYY hh:mm:ss"):"",e.name,e.creditType?"saving"==e.creditType?"deposit":e.creditType:"withdrawal",e.type,e.amount])})),P()(e).DataTable({order:[],responsive:!0,data:a,columns:[{title:"Date"},{title:"Name"},{title:"Transaction Type"},{title:"Type"},{title:"Amount."}]})};return Object(n.jsx)("div",{id:"wrapper",children:Object(n.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(n.jsx)(C,{}),Object(n.jsxs)("div",{className:"container-fluid",style:{paddingTop:"4.5rem"},children:[Object(n.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:Object(n.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"All Transactions"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Transactions"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)(L.a,{responsive:!0,id:"transactionTable"})})]})})})]})]})})},M=a(100),Y=(a(215),a(216),a(217),{labels:["Remaining","Withdrawal","Interest"],datasets:[{label:"",data:[0,0,0],backgroundColor:["#D4AC0D","#E74C3C","#27AE60"],borderWidth:1}]}),V=function(){var e=Object(s.useState)(),t=Object(d.a)(e,2),a=t[0],i=t[1],c=Object(s.useState)(),o=Object(d.a)(c,2),l=(o[0],o[1]),u=Object(s.useState)(),h=Object(d.a)(u,2),b=(h[0],h[1]),p=Object(s.useState)(),x=Object(d.a)(p,2),f=x[0],O=x[1],w=Object(s.useState)(Y),y=Object(d.a)(w,2),N=y[0],k=y[1],T=j().currentUser;Object(s.useEffect)((function(){window.scrollTo(0,0),D()}),[]);var S=function(e,t){var a=[];P.a.fn.dataTable.isDataTable(e)&&P()(e).DataTable().destroy();t.forEach((function(e){a.push([e.createdTime?B()(e.createdTime).format("DD-MMM-YYYY hh:mm:ss"):"",e.name,e.creditType?"saving"==e.creditType?"deposit":e.creditType:"withdrawal",e.type,e.amount])})),P()(e).DataTable({pageLength:5,lengthMenu:[5,10],order:[],responsive:!0,data:a,columns:[{title:"Date"},{title:"Name"},{title:"Transaction Type"},{title:"Type"},{title:"Amount."}]})},D=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a,n,s,r,c,o,d,u,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.firestore().collection(E).doc(null===T||void 0===T?void 0:T.uid).get();case 3:return t=e.sent,a=t.data(),e.next=7,m.firestore().collection(U).doc(a.linkId).get();case 7:return n=e.sent,s=n.data(),e.next=11,m.firestore().collection("accounts").doc("MM2020").get();case 11:return r=e.sent,c=r.data(),o={TotalAmount:c.TotalAmount,RemainingAmount:c.RemainingAmount,TotalInterest:c.TotalInterest,WithdrawalAmount:c.WithdrawalAmount,MinimumBalance:c.MinimumBalance},e.next=16,m.firestore().collection(A).orderBy("timestamp","desc").limit(10).get();case 16:d=e.sent,u=[],d.forEach((function(e){var t=e.data(),a={docID:e.id,name:t.name,type:t.type,amount:t.amount,createdBy:t.createdBy,createdTime:t.createdTime,creditType:t.creditType};u.push(a)})),(h=N).datasets=[{label:"",data:[o.RemainingAmount,o.WithdrawalAmount,o.TotalInterest],backgroundColor:["#D4AC0D","#E74C3C","#27AE60"],borderWidth:0}],k(h),i(o),l(u),b(a),O(s),S("#top10table",u),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.error(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)("div",{id:"wrapper",children:Object(n.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(n.jsx)(C,{}),Object(n.jsxs)("div",{className:"container-fluid",style:{paddingTop:"4.5rem"},children:[Object(n.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:Object(n.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Dashboard"})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(n.jsx)("div",{className:"card border-left-primary shadow h-100 py-2",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{className:"col mr-2",children:[Object(n.jsx)("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Balance"}),Object(n.jsxs)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:["\u20b9 ",(null===f||void 0===f?void 0:f.balance.toString())?null===f||void 0===f?void 0:f.balance:"updating..."]})]}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("i",{className:"fas fa-calendar fa-2x text-gray-300"})})]})})})}),Object(n.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(n.jsx)("div",{className:"card border-left-success shadow h-100 py-2",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{className:"col mr-2",children:[Object(n.jsx)("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1",children:"Withdrawal"}),Object(n.jsxs)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:["\u20b9 ",(null===f||void 0===f?void 0:f.withdrawal.toString())?null===f||void 0===f?void 0:f.withdrawal:"updating..."]})]}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("i",{className:"fas fa-dollar-sign fa-2x text-gray-300"})})]})})})}),Object(n.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(n.jsx)("div",{className:"card border-left-info shadow h-100 py-2",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{className:"col mr-2",children:[Object(n.jsx)("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1",children:"Advance Payment"}),Object(n.jsx)("div",{className:"row no-gutters align-items-center",children:Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsxs)("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800",children:["\u20b9 ",(null===f||void 0===f?void 0:f.advancePay.toString())?null===f||void 0===f?void 0:f.advancePay:"updating..."]})})})]}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("i",{className:"fas fa-clipboard-list fa-2x text-gray-300"})})]})})})}),Object(n.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(n.jsx)("div",{className:"card border-left-warning shadow h-100 py-2",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{className:"col mr-2",children:[Object(n.jsx)("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1",children:"Minimum Deposit"}),Object(n.jsxs)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:["\u20b9 ",(null===f||void 0===f?void 0:f.minDeposit.toString())?null===f||void 0===f?void 0:f.minDeposit:"updating..."]})]}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("i",{className:"fas fa-comments fa-2x text-gray-300"})})]})})})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-8 col-lg-7",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Overview"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)(M.Pie,{data:N,width:500,height:250,options:{maintainAspectRatio:!1,legend:{position:"right"}}})})]})}),Object(n.jsx)("div",{className:"col-xl-4 col-lg-5",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Account Summary"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Total Amount"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===a||void 0===a?void 0:a.TotalAmount})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Withdrawal Amount"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===a||void 0===a?void 0:a.WithdrawalAmount})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Interest Amount"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===a||void 0===a?void 0:a.TotalInterest})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Remaining Amount"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===a||void 0===a?void 0:a.RemainingAmount})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Account Minimum Balance"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===a||void 0===a?void 0:a.MinimumBalance})]})})})]})})]})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-4 col-lg-5",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Your Account Details"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Balance"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===f||void 0===f?void 0:f.balance})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Withdrawal"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===f||void 0===f?void 0:f.withdrawal})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Advance Payment"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===f||void 0===f?void 0:f.advancePay})]})})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("span",{children:"Minimum Deposit"}),Object(n.jsx)("span",{style:{fontWeight:"bold",float:"right"},children:null===f||void 0===f?void 0:f.minDeposit})]})})})]})})]})}),Object(n.jsx)("div",{className:"col-xl-8 col-lg-7",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Top 10 Transactions"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)(L.a,{responsive:!0,id:"top10table"})})]})})]})]})]})})})},W=a(55),F=a(56),_=a(60),z=a(58),q=(a(218),a(10)),H=a.n(q),G=function(e){Object(_.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).handleInputs=function(e,t){try{"email"==t?n.setState({email:e.target.value}):"pass"==t&&n.setState({password:e.target.value})}catch(a){console.error(a)}},n.fieldValidation=function(){var e,t=!0,a=0;return["inputEmailUserName","inputPassword"].forEach((function(n){var s=document.getElementById(n);s.classList.remove("border-danger"),s.value||(s.classList.add("border-danger"),t=!1,0===a&&(e=s,a++))})),t||(e.focus(),n.swtoast("warning","Email/Password should be mandatory")),t},n.swtoast=function(e,t){H.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",H.a.stopTimer),e.addEventListener("mouseleave",H.a.resumeTimer)}}).fire({icon:e,title:t})},n.signin=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,s,r,i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),n.fieldValidation()){e.next=5;break}return e.abrupt("return",!1);case 5:return n.setState({btnDisabled:!0}),e.next=8,n.validateAccount();case 8:if((a=e.sent).isValid){e.next=14;break}n.setState({btnDisabled:!1}),H.a.fire({icon:"error",title:a.title,text:a.text,footer:"<a href='#' title='"+a.information+"'>Why do I have this issue?</a>"}),e.next=20;break;case 14:return e.next=16,m.firestore().collection(E).doc(null===(s=m.auth().currentUser)||void 0===s?void 0:s.uid).get();case 16:r=e.sent,i=r.data(),n.setState({btnDisabled:!1}),i.isVerified?i.isAdmin?(m.auth().signOut(),H.a.fire({icon:"error",title:"Access Denied",text:"Currently admin can't access this site.",footer:"<a href>Why do I have this issue?</a>"})):(n.setState({isLoggedIn:!0}),n.swtoast("success","Welcome, "+(null===(c=m.auth().currentUser)||void 0===c?void 0:c.displayName))):i.isRejected?(m.auth().signOut(),H.a.fire({icon:"error",title:"Oops...",text:"Your id is disabled. Please contact your admin.",footer:"<a href>Why do I have this issue?</a>"})):(m.auth().signOut(),H.a.fire({icon:"error",title:"Oops...",text:"Please contact your admin to get approval of your account.",footer:"<a href>Why do I have this issue?</a>"}));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),n.setState({btnDisabled:!1}),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),n.forgotPassword=function(e){e.preventDefault(),H.a.queue([{title:"Reset Password",confirmButtonText:"Confirm",showCancelButton:!0,input:"text",inputValidator:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return","You need to write something!");case 4:return a=!1,H.a.enableLoading(),n="",e.next=9,new Promise((function(e){m.auth().sendPasswordResetEmail(t).then((function(){e(!0)})).catch((function(t){"auth/invalid-email"==t.code?(n="Please enter a valid email",e(!1)):"auth/user-not-found"==t.code?(n="Please register your account first",e(!1)):(n="Something went wrong, try again",e(!1))}))}));case 9:if(a=e.sent,H.a.disableLoading(),a){e.next=13;break}return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),text:"Please type your registered mail id",showLoaderOnConfirm:!0,preConfirm:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.a.fire({icon:"success",html:"Please check your mail to reset your password",footer:"<a href='#' style='color:red'>Don't share your password to anyone</a>"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}])},n.validateAccount=function(){var e={isValid:!1,title:"Oops...",text:"This account is not registered",buttontext:"Register",information:"Your account is not registered. Please click the Register link to sign in"};return new Promise((function(t){m.auth().signInWithEmailAndPassword(n.state.email,n.state.password).then((function(){t(e={isValid:!0,title:"Success",text:"Login success",buttontext:"",information:""})})).catch((function(a){"auth/user-not-found"==a.code?t(e):"auth/invalid-email"==a.code?t(e={isValid:!1,title:"Oops...",text:"Please enter a valid email",buttontext:"Forgot password",information:"Your email id is Incorrect. Please check the email"}):"auth/wrong-password"==a.code?t(e={isValid:!1,title:"Oops...",text:"The password is incorrect",buttontext:"Forgot password",information:"Your account password is Incorrect. Please click the Forgot the password link to change password"}):"auth/user-disabled"==a.code?t(e={isValid:!1,title:"Oops...",text:"Your account is disabled",buttontext:"Forgot password",information:"Please contact your admin to open your account"}):"auth/too-many-requests"==a.code?t(e={isValid:!1,title:"Oops...",text:"Too many attempts",buttontext:"Forgot password",information:"Please try again later"}):t(e={isValid:!1,title:"Oops...",text:"Something went wrong",buttontext:"Forgot password",information:"Try again later"})}))}))},n.state={email:"",password:"",isLoggedIn:!1,btnDisabled:!1,isMounted:!1},n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.auth().onAuthStateChanged((function(t){t&&!e.state.isMounted&&e.setState({isLoggedIn:!0})})),this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,s=t.password;return Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)("div",{className:"sidenav",children:Object(n.jsxs)("div",{className:"login-main-text",children:[Object(n.jsx)("img",{src:p}),Object(n.jsx)("h2",{children:"Thunder Organization"}),Object(n.jsx)("p",{children:"Login or register from here to access."})]})}),Object(n.jsx)("div",{className:"main login-main",children:Object(n.jsx)("div",{className:"col-md-6 col-sm-12 login-container",children:Object(n.jsxs)("div",{className:"card card-container",children:[Object(n.jsx)("img",{id:"profile-img",className:"profile-img-card",alt:"profile-img",src:y}),Object(n.jsx)("p",{id:"profile-name",className:"profile-name-card"}),Object(n.jsxs)("form",{className:"form-signin",children:[Object(n.jsx)("span",{id:"reauth-email",className:"reauth-email"}),Object(n.jsx)("input",{type:"email",id:"inputEmailUserName",className:"form-control",placeholder:"Email address",onChange:function(t){e.handleInputs(t,"email")},value:a}),Object(n.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:function(t){e.handleInputs(t,"pass")},value:s}),Object(n.jsx)("div",{id:"remember",className:"checkbox",children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",value:"remember-me"})," Remember me"]})}),this.state.btnDisabled?Object(n.jsxs)("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",disabled:!0,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Signing..."]}):Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"submit",onClick:this.signin.bind(this),disabled:this.state.btnDisabled,children:"Sign in"})]}),Object(n.jsx)("a",{href:"#",className:"forgot-password",onClick:function(t){e.forgotPassword(t)},children:"Forgot the password? Reset"}),Object(n.jsx)(o.b,{to:"/registration",className:"Register-account",children:"New Here? Register"})]})})}),this.state.isLoggedIn?Object(n.jsx)(l.a,{to:{pathname:"/"},push:!0}):null]})}}]),a}(r.a.Component),X=function(){var e=Object(s.useState)(),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),c=Object(d.a)(i,2),o=c[0],l=c[1],u=Object(s.useState)(""),h=Object(d.a)(u,2),b=h[0],p=h[1],x=Object(s.useState)(0),f=Object(d.a)(x,2),O=f[0],w=f[1],N=Object(s.useState)(""),k=Object(d.a)(N,2),T=k[0],S=k[1],P=Object(s.useState)(y),D=Object(d.a)(P,2),L=D[0],A=D[1],U=Object(s.useState)(!1),R=Object(d.a)(U,2),M=R[0],Y=R[1],V=Object(s.useState)(""),W=Object(d.a)(V,2),F=(W[0],W[1],Object(s.useState)("")),_=Object(d.a)(F,2),z=_[0],q=_[1],G=j().currentUser;Object(s.useEffect)((function(){var e;window.scrollTo(0,0),(null===G||void 0===G?void 0:G.photoURL)&&A(G.photoURL),null===(e=document.getElementById("picture-input"))||void 0===e||e.addEventListener("change",(function(e){Q(e)})),J()}),[]);var X=function(e,t){H.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",H.a.stopTimer),e.addEventListener("mouseleave",H.a.resumeTimer)}}).fire({icon:e,title:t})},J=function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.firestore().collection(E).doc(null===G||void 0===G?void 0:G.uid).get();case 3:t=e.sent,a=t.data(),p(a.displayName),w(a.phoneNumber),S(a.email),r(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Q=function(e){try{var t=e.target.files[0];if(document.getElementById("picture-input").value="",!t)return document.getElementById("picture-input").value="",!1;if(!new RegExp("(.*?).(png|jpg|jpeg)$").test(t.name.toLowerCase()))return alert("Allowed picture extensions are jpg, png, jpeg"),document.getElementById("picture-input").value="",!1;K(t)}catch(a){console.error(a)}},$=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=!1,e.next=4,H.a.fire({title:"Are you sure?",text:"you want to remove your profile picture?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then((function(e){e.isConfirmed&&(t=!0)}));case 4:if(t){e.next=6;break}return e.abrupt("return");case 6:l(!0),null===G||void 0===G||G.updateProfile({photoURL:null}).then((function(){m.firestore().collection(E).doc(G.uid).update({photoURL:""}).then((function(){A(y),X("success","Your profile picture removed successfully"),l(!1)})).catch((function(e){X("error","Something went wrong, try again"),l(!1),console.error(e)}))})).catch((function(e){l(!1),X("error","Something went wrong, try again"),console.error(e)})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),l(!1),X("error","Something went wrong, try again"),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),K=function(e){try{if(!e)return void alert("No file found, try again");l(!0);var t=e.name,a=t.split("."),n=a[a.length-1],s=m.storage().ref(),r={contentType:e.type,customMetadata:{userId:null===G||void 0===G?void 0:G.uid,userName:null===G||void 0===G?void 0:G.displayName}};s.child("/images/pp/"+t).getDownloadURL().then((function(a){s.child("/images/pp/"+t).delete().then((function(){Z(s,t,n,r,e)})).catch((function(e){l(!1),X("error","Something went wrong, try again"),console.error(e)}))})).catch((function(a){"storage/object-not-found"==a.code?Z(s,t,n,r,e):(l(!1),X("error","Something went wrong, try again"),console.error(a))}))}catch(i){l(!1),X("error","Something went wrong, try again"),console.error(i)}},Z=function(e,t,a,n,s){try{var r=e.child("/images/pp/"+(null===G||void 0===G?void 0:G.uid)+"."+a).put(s,n);r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case m.storage.TaskState.PAUSED:console.log("Upload is paused");break;case m.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){l(!1),console.error(e),X("error","Something went wrong, try again")}),(function(){var e;null===(e=r.snapshot)||void 0===e||e.ref.getDownloadURL().then((function(e){console.log("File available at",e),null===G||void 0===G||G.updateProfile({photoURL:e}).then((function(){m.firestore().collection(E).doc(G.uid).update({photoURL:e}).then((function(){l(!1),A(e),X("success","Your profile picture updated successfully")})).catch((function(e){l(!1),console.error(e),X("error","Something went wrong, try again")}))})).catch((function(e){l(!1),console.error(e),X("error","Something went wrong, try again")}))}))}))}catch(i){l(!1),console.error(i),X("error","Something went wrong, try again")}},ee=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b){e.next=4;break}return X("warning","Please enter your name"),e.abrupt("return");case 4:if(O){e.next=7;break}return X("warning","Please enter your phone no"),e.abrupt("return");case 7:if(T){e.next=10;break}return X("warning","Please enter your email"),e.abrupt("return");case 10:if(t=!0,T==a.email){e.next=14;break}return e.next=14,m.auth().fetchSignInMethodsForEmail(T).then((function(e){0!=e.length&&(X("warning","Email already exists"),t=!1)})).catch((function(e){-1!=e.code.indexOf("auth/invalid-email")?(X("warning","Please enter valid mail"),t=!1):-1!=e.code.indexOf("auth/email-already-in-use")?(X("warning","Email already exists"),t=!1):(X("warning","Something went wrong, try again"),t=!1)}));case 14:if(z&&z.length<6&&(X("warning","Password should have atleast 6 characters"),t=!1),t){e.next=17;break}return e.abrupt("return");case 17:return n=!1,e.next=20,H.a.fire({title:"Are you sure?",text:"you want to update your profile?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update"}).then(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=7;break}if(!z&&T==a.email){e.next=6;break}return e.next=4,H.a.queue([{title:"Confirm Password",confirmButtonText:"Confirm",showCancelButton:!0,input:"text",inputValidator:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return","You need to provide current password!");case 4:return a=!1,H.a.enableLoading(),n="",e.next=9,new Promise((function(e){var a=m.auth.EmailAuthProvider.credential(null===G||void 0===G?void 0:G.email,t);null===G||void 0===G||G.reauthenticateWithCredential(a).then(Object(g.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(!0);case 1:case"end":return t.stop()}}),t)})))).catch((function(t){-1!=t.code.indexOf("auth/wrong-password")?(n="Password is wrong",e(!1)):-1!=t.code.indexOf("auth/too-many-requests")?(n="Too many attempts. try again later",e(!1)):(n="Something went wrong, try again",e(!1))}))}));case 9:if(a=e.sent,H.a.disableLoading(),a){e.next=13;break}return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),text:"Type your current password to change email/password",showLoaderOnConfirm:!0,preConfirm:function(){n=!0}}]);case 4:e.next=7;break;case 6:n=!0;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:if(n){e.next=22;break}return e.abrupt("return");case 22:if(s={displayName:b,phoneNumber:O},l(!0),b==a.displayName&&O==a.phoneNumber){e.next=27;break}return e.next=27,new Promise((function(e){null===G||void 0===G||G.updateProfile({displayName:b}).then((function(){m.firestore().collection(E).doc(null===G||void 0===G?void 0:G.uid).update(s).then(Object(g.a)(v.a.mark((function t(){var n,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b==a.displayName){t.next=4;break}return n={userUID:null===G||void 0===G?void 0:G.uid,name:a.displayName,type:"Update",field:"displayName",oldValue:a.displayName,newValue:b,timestamp:new Date,createdTime:(new Date).toString(),createdBy:a.displayName},t.next=4,m.firestore().collection(I).doc().set(n);case 4:if(O==a.phoneNumber){t.next=8;break}return s={userUID:null===G||void 0===G?void 0:G.uid,name:a.displayName,type:"Update",field:"phoneNumber",oldValue:a.phoneNumber,newValue:O||"",timestamp:new Date,createdTime:(new Date).toString(),createdBy:a.displayName},t.next=8,m.firestore().collection(I).doc().set(s);case 8:e(!0);case 9:case"end":return t.stop()}}),t)})))).catch((function(t){console.error(t),e(!1)}))})).catch((function(t){console.error(t),e(!1)}))}));case 27:if(T==a.email){e.next=30;break}return e.next=30,new Promise((function(e){var t;null===(t=m.auth().currentUser)||void 0===t||t.updateEmail(T).then((function(){m.firestore().collection(E).doc(G.uid).update({email:T}).then(Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={userUID:G.uid,name:a.displayName,type:"Update",field:"email",oldValue:a.email,newValue:T,timestamp:new Date,createdTime:(new Date).toString(),createdBy:a.displayName},t.next=3,m.firestore().collection(I).doc().set(n);case 3:e(!0);case 4:case"end":return t.stop()}}),t)}))))})).catch((function(t){console.error(t),e(!1)}))}));case 30:if(!z){e.next=33;break}return e.next=33,new Promise((function(e){var t;null===(t=m.auth().currentUser)||void 0===t||t.updatePassword(z).then(Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={userUID:G.uid,name:a.displayName,type:"Update",field:"Password",oldValue:"......",newValue:"......",timestamp:new Date,createdTime:(new Date).toString(),createdBy:a.displayName},t.next=3,m.firestore().collection(I).doc().set(n);case 3:e(!0);case 4:case"end":return t.stop()}}),t)})))).catch((function(t){console.error(t),e(!1)}))}));case 33:l(!1),Y(!1),z||T!=a.email?H.a.fire({title:"Login Required",text:"Please login again",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Login"}).then((function(){m.auth().signOut()})):(X("success","Profile updated successfully"),J()),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(0),l(!1),X("error","Something went wrong, try again");case 42:case"end":return e.stop()}}),e,null,[[0,38]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{id:"wrapper",children:Object(n.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(n.jsx)(C,{}),Object(n.jsx)("div",{className:"container-fluid",style:{paddingTop:"4.5rem"},children:Object(n.jsx)("div",{className:"main-body",children:Object(n.jsxs)("div",{className:"row gutters-sm",children:[Object(n.jsx)("div",{className:"col-md-4 mb-3",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[Object(n.jsx)("img",{src:L,alt:"Admin",className:"rounded-circle",width:150}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)("h4",{style:{fontWeight:"bold",color:"black"},children:a?a.displayName.toUpperCase():""}),Object(n.jsx)("p",{className:"text-secondary mb-1",children:a?a.email:""}),Object(n.jsx)("p",{className:"text-muted font-size-sm",children:a?a.isAdmin?"Admin":"User":""}),Object(n.jsx)("button",{className:"btn btn-outline-danger mr-4",disabled:o,onClick:function(){return $()},children:" Delete Picture"}),Object(n.jsx)("button",{className:"btn btn-outline-primary",disabled:o,onClick:function(){var e;null===(e=document.getElementById("picture-input"))||void 0===e||e.click()},children:"Edit Picture"}),Object(n.jsx)("input",{type:"file",accept:"image/*",id:"picture-input",hidden:!0})]})]})})})}),Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsx)("div",{className:"card mb-3",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Name"})}),Object(n.jsxs)("div",{className:"col-sm-9 text-secondary",children:[Object(n.jsx)("input",{type:"text",value:b?b.toUpperCase():"",onChange:function(e){return p(e.target.value)},placeholder:"name",hidden:!M,className:"form-control"}),Object(n.jsx)("span",{hidden:M,children:a?a.displayName.toUpperCase():""})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Phone"})}),Object(n.jsxs)("div",{className:"col-sm-9 text-secondary",children:[Object(n.jsx)("input",{type:"text",value:O||"",minLength:8,maxLength:15,onChange:function(e){return w(e.target.value?parseInt(e.target.value):null)},placeholder:"phone no",hidden:!M,className:"form-control"}),Object(n.jsx)("span",{hidden:M,children:a?a.phoneNumber:""})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(n.jsxs)("div",{className:"col-sm-9 text-secondary",children:[Object(n.jsx)("input",{type:"text",value:T||"",onChange:function(e){return S(e.target.value)},placeholder:"email address",hidden:!M,className:"form-control"}),Object(n.jsx)("span",{hidden:M,children:a?a.email:""})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Password"})}),Object(n.jsxs)("div",{className:"col-sm-9 text-secondary",children:[Object(n.jsx)("input",{type:"password",value:z,placeholder:"new password",onChange:function(e){return q(e.target.value)},hidden:!M,className:"form-control"}),Object(n.jsx)("span",{hidden:M,children:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf"})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Type"})}),Object(n.jsx)("div",{className:"col-sm-9 text-secondary",children:a?a.isAdmin?"Admin":"User":""})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Created Date"})}),Object(n.jsx)("div",{className:"col-sm-9 text-secondary",children:a?B()(a.metadata.creationTime).format("DD-MMM-YYYY hh:mm:ss"):""})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Last Login"})}),Object(n.jsx)("div",{className:"col-sm-9 text-secondary",children:a?B()(null===G||void 0===G?void 0:G.metadata.lastSignInTime).format("DD-MMM-YYYY hh:mm:ss"):""})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"Account ID"})}),Object(n.jsx)("div",{className:"col-sm-9 text-secondary",children:a?a.linkId:""})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-3",children:Object(n.jsx)("h6",{className:"mb-0",children:"User ID"})}),Object(n.jsx)("div",{className:"col-sm-9 text-secondary",children:a?a.uid:""})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-sm-12",children:[Object(n.jsx)("button",{className:"btn btn-primary float-right",hidden:M,onClick:function(){return Y(!0)},disabled:o,children:"Edit Profile"}),Object(n.jsx)("button",{className:"btn btn-primary float-right",hidden:!M,disabled:o,onClick:function(){return ee()},children:"Save Profile"}),Object(n.jsx)("button",{className:"btn btn-danger float-right",hidden:!M,onClick:function(){return Y(!1)},disabled:o,style:{marginRight:10},children:"Cancel"})]})})]})})})]})})})]})})},J=a(57),Q=(a(219),function(e){Object(_.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).swtoast=function(e,t){H.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",H.a.stopTimer),e.addEventListener("mouseleave",H.a.resumeTimer)}}).fire({icon:e,title:t})},n.fieldValidation=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,s,r,i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={isValid:!0,icon:"warning",text:""},r=0,["_fn","_mail","_phone","_pass","_conpass"].forEach((function(e){var n=document.getElementById(t+e);n.classList.remove("border-danger"),n.value||(n.classList.add("border-danger"),a.isValid=!1,a.text="Please fill all the mandatory fields",0===r&&(s=n,r++))})),a.isValid&&(i=document.getElementById(t+"_pass"),c=document.getElementById(t+"_conpass"),i.value!==c.value&&(i.classList.add("border-danger"),c.classList.add("border-danger"),s=c,a.isValid=!1,a.text="Password doesn't match")),a.isValid||(s.focus(),n.swtoast(a.icon,a.text)),e.abrupt("return",a.isValid);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onChange=function(e,t){if("mobile"==t){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&n.setState({mobileNo:e.target.value})}},n.registerUser=function(){var e=Object(g.a)(v.a.mark((function e(t,a){var s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(J.a)(n),t.preventDefault(),e.next=4,n.fieldValidation(a);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:n.setState({btndisable:!0}),m.auth().createUserWithEmailAndPassword(n.state.email,n.state.pass).then((function(){var e=m.auth().currentUser;e&&e.updateProfile({displayName:s.state.name}).then(Object(g.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={creationTime:null===e||void 0===e?void 0:e.metadata.creationTime,lastSignInTime:null===e||void 0===e?void 0:e.metadata.lastSignInTime},n={uid:e.uid,displayName:s.state.name,email:e.email,emailVerified:!1,phoneNumber:parseInt(s.state.mobileNo),isAdmin:!1,isVerified:!1,isRejected:!1,metadata:a},t.next=4,m.firestore().collection(E).doc(e.uid).set(n);case 4:m.auth().signOut().then((function(){s.setState({btndisable:!1}),H.a.fire({title:"Success",text:"Now you are a part of our organization",icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Login"}).then((function(e){e.value&&s.setState({redirect:!0})}))}));case 5:case"end":return t.stop()}}),t)})))).catch((function(e){var t;s.setState({btndisable:!1}),console.error(e),H.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"<a href>Why do I have this issue?</a>"}),null===(t=m.auth().currentUser)||void 0===t||t.delete()}))})).catch((function(e){if(n.setState({btndisable:!1}),"auth/invalid-email"===e.code){var t=document.getElementById(a+"_mail");return null===t||void 0===t||t.classList.add("border-danger"),null===t||void 0===t||t.focus(),void s.swtoast("warning","Please enter valid mail")}if("auth/weak-password"===e.code){var r=document.getElementById(a+"_pass");return null===r||void 0===r||r.classList.add("border-danger"),null===r||void 0===r||r.focus(),void s.swtoast("warning","Password should have atleast 6 characters")}if("auth/email-already-in-use"==e.code){var i=document.getElementById(a+"_mail");return null===i||void 0===i||i.classList.add("border-danger"),null===i||void 0===i||i.focus(),void s.swtoast("warning","Email already exists")}return console.error(e),void s.swtoast("warning","Something went wrong. Please try again")}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={name:"",email:"",pass:"",conpass:"",mobileNo:"",btndisable:!1,redirect:!1},n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.state;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"container-fluid register",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3 register-left",children:[Object(n.jsx)("img",{src:p}),Object(n.jsx)("h3",{children:"Welcome"}),Object(n.jsx)("p",{children:"You are 30 seconds away from accessing our organization!"}),Object(n.jsxs)(o.b,{to:"/login",children:[Object(n.jsx)("button",{type:"submit",name:"",disabled:t.btndisable,children:"Login"}),Object(n.jsx)("br",{})]})]}),Object(n.jsx)("div",{className:"col-md-9 register-right",children:Object(n.jsxs)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab",children:[Object(n.jsx)("h3",{className:"register-heading",children:"Register to Thunder Organization"}),Object(n.jsxs)("div",{className:"row register-form",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",className:"form-control",id:"user_fn",placeholder:"Your Name",value:t.name,onChange:function(t){return e.setState({name:t.target.value})}})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",id:"user_mail",placeholder:"Your Email",value:t.email,onChange:function(t){return e.setState({email:t.target.value})}})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",minLength:8,maxLength:15,name:"txtEmpPhone",id:"user_phone",className:"form-control",placeholder:"Your Mobile No",value:t.mobileNo,onChange:function(t){return e.onChange(t,"mobile")}})})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",id:"user_pass",placeholder:"Password",value:t.pass,onChange:function(t){return e.setState({pass:t.target.value})}})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",id:"user_conpass",placeholder:"Confirm Password",value:t.conpass,onChange:function(t){return e.setState({conpass:t.target.value})}})}),Object(n.jsxs)("p",{className:"terms-and-conditions",children:["By clicking Sign Up, you agree to our ",Object(n.jsx)("a",{href:"#",id:"terms-link",rel:"nofollow",children:"Terms"}),", ",Object(n.jsx)("a",{href:"#",id:"privacy-link",rel:"nofollow",children:"Data Policy"})," and ",Object(n.jsx)("a",{href:"#",id:"cookie-use-link",rel:"nofollow",children:"Cookie Policy"}),". You may receive SMS notifications from us and can opt out at any time."]}),t.btndisable?Object(n.jsxs)("button",{className:"btnRegister",type:"button",disabled:!0,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Registering..."]}):Object(n.jsx)("input",{type:"submit",className:"btnRegister",value:"Register",onClick:function(t){return e.registerUser(t,"user")},disabled:t.btndisable})]})]})]})})]})}),this.state.redirect?Object(n.jsx)(l.a,{to:{pathname:"/login"},push:!0}):null]})}}]),a}(r.a.Component)),$=function(){Object(s.useEffect)((function(){t()}),[]);var e=function(e,t){var a=[];P.a.fn.dataTable.isDataTable(e)&&P()(e).DataTable().destroy();t.forEach((function(e){a.push([e.name,e.balance?e.balance:0,e.withdrawal?e.withdrawal:0,e.advancePay?e.advancePay:0,e.minDeposit?e.minDeposit:0,e.docid])})),P()(e).DataTable({order:[],responsive:!0,data:a,columns:[{title:"Name"},{title:"Balance"},{title:"Withdrawal"},{title:"Advance payment"},{title:"Minimum Deposit"},{title:"Account Id"}]})},t=function(){var t=Object(g.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.firestore().collection(U).orderBy("name","asc").get();case 3:a=t.sent,n=[],a.forEach((function(e){var t=e.data(),a=e.id,s={name:t.name,balance:t.balance,withdrawal:t.withdrawal,minDeposit:t.minDeposit,advancePay:t.advancePay,docid:a};n.push(s)})),e("#accountTable",n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{id:"wrapper",children:Object(n.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(n.jsx)(C,{}),Object(n.jsxs)("div",{className:"container-fluid",style:{paddingTop:"4.5rem"},children:[Object(n.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:Object(n.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"User Accounts"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(n.jsxs)("div",{className:"card shadow mb-4",children:[Object(n.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(n.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Accounts"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)(L.a,{responsive:!0,id:"accountTable"})})]})})})]})]})})},K=a(62),Z=a(101);function ee(e){var t=e.component,a=Object(Z.a)(e,["component"]),s=j().currentUser;return Object(n.jsx)(l.b,Object(K.a)(Object(K.a)({},a),{},{render:function(e){return s?Object(n.jsx)(t,Object(K.a)({},e)):Object(n.jsx)(l.a,{to:"/login"})}}))}a(220);var te=function(){return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.jsx)(o.a,{children:Object(n.jsx)(b,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(ee,{exact:!0,path:"/",component:V}),Object(n.jsx)(ee,{exact:!0,path:"/profile",component:X}),Object(n.jsx)(ee,{exact:!0,path:"/transactions",component:R}),Object(n.jsx)(ee,{exact:!0,path:"/accounts",component:$}),Object(n.jsx)(l.b,{path:"/login",component:G}),Object(n.jsx)(l.b,{path:"/registration",component:Q}),Object(n.jsx)(l.b,{path:"*",component:x})]})})})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};a(221);c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(te,{})}),document.getElementById("root")),ae()}},[[223,1,2]]]);
//# sourceMappingURL=main.72079203.chunk.js.map